(function(e){function t(t){for(var o,s,r=t[0],l=t[1],c=t[2],u=0,h=[];u<r.length;u++)s=r[u],n[s]&&h.push(n[s][0]),n[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],o=!0,r=1;r<i.length;r++){var l=i[r];0!==n[l]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=i[0]))}return e}var o={},n={app:0},a=[];function s(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=o,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(i,o,function(t){return e[t]}.bind(null,o));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"02d7":function(e,t,i){},"034f":function(e,t,i){"use strict";var o=i("eea3"),n=i.n(o);n.a},1:function(e,t){},2:function(e,t){},"4c2b":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);for(var o=i("9caf"),n=i.n(o),a=(i("5c07"),i("53da"),i("2556"),i("d0f8"),i("e8c7")),s=i("5a4b"),r=i("57e8"),l=i("9535"),c=i.n(l),d=i("8a2b"),u=i.n(d),h=i("9a8c"),p=i.n(h),f=(i("632c"),i("508f"),i("1733"),i("0db4"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)}),m=[],g={components:{},data:function(){return{}},computed:{},methods:{},mounted:function(){}},v=g,y=(i("034f"),i("8c9c")),b=Object(y["a"])(v,f,m,!1,null,null,null),k=b.exports,x=i("081a"),C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"resize",rawName:"v-resize",value:e.onContainerResize,expression:"onContainerResize"}],staticClass:"container"},[i("FEEditor"),i("div")],1)},w=[],E=i("7be2"),z=i.n(E),P=(i("d72d"),i("123e"),i("0a67"),i("9a62")),M=i.n(P),S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"frontend"},[i("Layout",{staticClass:"layout-con"},[i("sider",{attrs:{collapsible:"","hide-trigger":"","collapsed-width":36},model:{value:e.isCollapsed,callback:function(t){e.isCollapsed=t},expression:"isCollapsed"}},[i("Menu",{class:e.menuitemClasses,attrs:{"active-name":"search",theme:"dark",width:"auto"},on:{"on-select":e.selectNavMenu}},[i("MenuItem",{attrs:{name:"search"}},[i("Tooltip",{attrs:{content:"Search element",placement:"right"}},[i("Icon",{attrs:{type:"md-search"}})],1)],1),i("MenuItem",{attrs:{name:"document"}},[i("Tooltip",{attrs:{content:"Open Text Editor",placement:"right"}},[i("Icon",{attrs:{type:"ios-list"}})],1)],1),i("MenuItem",{attrs:{name:"load"}},[i("Tooltip",{attrs:{content:"Load Vue file",placement:"right"}},[i("Icon",{attrs:{type:"ios-open-outline"}})],1)],1),i("MenuItem",{attrs:{name:"save"}},[i("Tooltip",{attrs:{content:"Write Vue file",placement:"right"}},[i("Icon",{attrs:{type:"ios-code-download"}})],1)],1),e.scene.debug?i("MenuItem",{attrs:{name:"debug"}},[i("Tooltip",{attrs:{content:"Debug",placement:"right"}},[i("Icon",{attrs:{type:"md-create"}})],1)],1):e._e(),i("MenuItem",{attrs:{name:"about"}},[i("Tooltip",{attrs:{content:"About",placement:"right"}},[i("Icon",{attrs:{type:"md-at"}})],1)],1)],1)],1),i("Layout",[i("Content",[i("Split",{attrs:{min:e.splitMin,max:e.splitMax},model:{value:e.split.ratio,callback:function(t){e.$set(e.split,"ratio",t)},expression:"split.ratio"}},[i("div",{staticClass:"split-pane",attrs:{slot:"left"},slot:"left"},[i("CheckboxGroup",{staticClass:"check-libs",model:{value:e.components.filters,callback:function(t){e.$set(e.components,"filters",t)},expression:"components.filters"}},[e._v("\n              UI\n              "),e._l(e.components.libs,function(t){return i("Poptip",{attrs:{"word-wrap":"",trigger:"hover",placement:"bottom-start",width:"200",content:t.desc}},[i("Checkbox",{attrs:{label:t.category,disabled:"html5"===t.category}},[i("span",[e._v(e._s(t.title))])])],1)})],2),i("Input",{staticStyle:{width:"100%",padding:"0 4px"},attrs:{suffix:"ios-search",placeholder:"Search"},on:{"on-enter":e.searchComponents},model:{value:e.components.key,callback:function(t){e.$set(e.components,"key",t)},expression:"components.key"}}),i("Scroll",{attrs:{height:e.size.scrollHeight}},[i("div",{staticClass:"search-item"},[i("div",{staticClass:"search-group"},[i("span",[e._v("Custom")])]),e._l(e.components.vuedefs.tags,function(t){return i("Option",{key:t.name,attrs:{value:t.name}},[i("Poptip",{attrs:{"word-wrap":"",trigger:"hover",placement:"right",width:"200",title:t.title,content:t.desc}},[i("span",{staticClass:"search-item-title"},[e._v(e._s(t.name))])]),i("Button",{staticClass:"search-item-add",attrs:{type:"primary",ghost:"",icon:"ios-add",size:"small"},on:{click:function(i){return e.addCustomComponent(t.name)}}})],1)})],2),e._l(e.components.searchResult,function(t){return i("div",{staticClass:"search-item"},[i("div",{staticClass:"search-group"},[i("span",[e._v(e._s(t.title))])]),e._l(t.elements,function(o){return i("Option",{key:o.name,attrs:{value:o.name}},[i("Poptip",{attrs:{"word-wrap":"",trigger:"hover",placement:"right",width:"200",title:o.title,content:o.desc}},[i("span",{staticClass:"search-item-title"},[e._v(e._s(o.name))])]),i("Button",{staticClass:"search-item-add",attrs:{icon:"ios-add",size:"small"},on:{click:function(i){return e.addComponent(t.category,o.name)}}})],1)})],2)})],2)],1),i("div",{staticClass:"split-pane",attrs:{slot:"right"},slot:"right"},[i("div",{attrs:{id:"scene"}})])])],1)],1)],1),i("div",{staticClass:"editor-button"},[i("Tooltip",{attrs:{placement:"bottom",content:"Zoom Out",delay:1e3}},[i("Button",{attrs:{shape:"circle",icon:"ios-remove"},on:{click:e.zoomOut}})],1),i("Tooltip",{attrs:{placement:"bottom",content:"Zoom In",delay:1e3}},[i("Button",{attrs:{shape:"circle",icon:"ios-add"},on:{click:e.zoomIn}})],1),i("Tooltip",{attrs:{placement:"bottom",content:"Reset Canvas",delay:1e3}},[i("Button",{attrs:{shape:"circle",icon:"ios-refresh"},on:{click:e.reset}})],1),i("Tooltip",{attrs:{placement:"bottom",content:"Undo",delay:1e3}},[i("Button",{attrs:{shape:"circle",icon:"ios-undo-outline",disabled:!e.hasUndo},on:{click:e.undo}})],1),i("Tooltip",{attrs:{placement:"bottom-end",content:"Redo",delay:1e3}},[i("Button",{attrs:{shape:"circle",icon:"ios-redo-outline",disabled:!e.hasRedo},on:{click:e.redo}})],1)],1),i("Drawer",{attrs:{title:"Script Editor",width:"1024",closable:!1},model:{value:e.scriptEditor.visible,callback:function(t){e.$set(e.scriptEditor,"visible",t)},expression:"scriptEditor.visible"}},[i("ButtonGroup",{staticClass:"code-button"},[i("Button",{attrs:{icon:"md-create"},on:{click:e.updateDebugScript}},[e._v("Update")])],1),i("codemirror",{ref:"code",attrs:{options:e.scriptEditor.options},model:{value:e.scriptEditor.code,callback:function(t){e.$set(e.scriptEditor,"code",t)},expression:"scriptEditor.code"}})],1),i("Modal",{attrs:{title:"Add Custom Element",styles:{top:"20px"},"mask-closable":!1},model:{value:e.dialogs.customElement.visible,callback:function(t){e.$set(e.dialogs.customElement,"visible",t)},expression:"dialogs.customElement.visible"}},[i("Form",{ref:"customElement",attrs:{model:e.dialogs.customElement.form,rules:e.dialogs.customElement.rules}},[i("FormItem",{attrs:{prop:"tagName"}},[i("Input",{attrs:{type:"text",placeholder:"TagName"},model:{value:e.dialogs.customElement.form.tagName,callback:function(t){e.$set(e.dialogs.customElement.form,"tagName",t)},expression:"dialogs.customElement.form.tagName"}},[i("Icon",{attrs:{slot:"prepend",type:"ios-code"},slot:"prepend"})],1)],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary"},on:{click:e.addCustomElement}},[e._v("Add")]),i("Button",{staticStyle:{"margin-left":"8px"},on:{click:e.closeCustomElement}},[e._v("Cancel")])],1)],1),i("Modal",{attrs:{title:"Edit Element",styles:{top:"20px"},width:800,"mask-closable":!1},model:{value:e.dialogs.editElement.visible,callback:function(t){e.$set(e.dialogs.editElement,"visible",t)},expression:"dialogs.editElement.visible"}},[i("Form",{ref:"editElement",attrs:{model:e.dialogs.editElement.form,rules:e.dialogs.editElement.rules,"label-width":80,inline:""}},[i("FormItem",{attrs:{label:"Name",prop:"tagName"}},[i("Input",{attrs:{type:"text",size:"small",placeholder:"TagName",readonly:!0},model:{value:e.dialogs.editElement.form.tagName,callback:function(t){e.$set(e.dialogs.editElement.form,"tagName",t)},expression:"dialogs.editElement.form.tagName"}})],1),i("FormItem",{attrs:{label:"Category",prop:"tagCategory"}},[i("Input",{attrs:{type:"text",size:"small",placeholder:"Category",readonly:!0},model:{value:e.dialogs.editElement.form.tagCategory,callback:function(t){e.$set(e.dialogs.editElement.form,"tagCategory",t)},expression:"dialogs.editElement.form.tagCategory"}})],1)],1),i("div",{staticClass:"divider-horizontal"}),i("Row",[i("Col",{attrs:{span:8}},[i("Scroll",[i("div",{staticClass:"search-group"},[i("span",[e._v("Attributes")]),i("Button",{staticClass:"search-item-add",attrs:{type:"primary",icon:"ios-add",size:"small"},on:{click:e.addCustomAttribute}})],1),i("CellGroup",{on:{"on-click":e.handleSelectAttribute}},e._l(e.dialogs.editElement.form.props,function(t){return i("Cell",{attrs:{title:t.key,name:t.key,selected:t.selected}},[i("Button",{staticClass:"search-item-add",attrs:{slot:"extra",type:"error",ghost:"",icon:"ios-trash-outline",size:"small"},on:{click:function(i){return e.clearAttribute(t.key)}},slot:"extra"})],1)}),1),i("div",{staticClass:"search-group"},[i("span",[e._v("Events")]),i("Button",{staticClass:"search-item-add",attrs:{type:"primary",icon:"ios-add",size:"small"},on:{click:e.addCustomEvent}})],1),i("CellGroup",{on:{"on-click":e.handleSelectEvent}},e._l(e.dialogs.editElement.form.events,function(t){return i("Cell",{attrs:{title:t.key,name:t.key,selected:t.selected}},[i("Button",{staticClass:"search-item-add",attrs:{slot:"extra",type:"error",ghost:"",icon:"ios-trash-outline",size:"small"},on:{click:function(i){return e.clearEvent(t.key)}},slot:"extra"})],1)}),1)],1)],1),i("Col",{attrs:{span:16}},[i("Form",{ref:"editElementProperty",attrs:{model:e.dialogs.editElement.form.current,"label-width":80}},[i("FormItem",{attrs:{label:"type"}},[i("Tag",{attrs:{color:"primary"}},[e._v(e._s(e.dialogs.editElement.form.current.type))])],1),i("FormItem",{attrs:{label:"key"}},[i("Input",{staticStyle:{display:"inline"},attrs:{type:"text",readonly:!0},on:{"on-change":e.handleChangePropertyName},model:{value:e.dialogs.editElement.form.current.key,callback:function(t){e.$set(e.dialogs.editElement.form.current,"key",t)},expression:"dialogs.editElement.form.current.key"}})],1),i("FormItem",{attrs:{label:"v-bind"}},[i("i-switch",{attrs:{size:"large",disabled:!e.dialogs.editElement.form.current.canBind},model:{value:e.dialogs.editElement.form.current.bound,callback:function(t){e.$set(e.dialogs.editElement.form.current,"bound",t)},expression:"dialogs.editElement.form.current.bound"}},[i("span",{attrs:{slot:"open"},slot:"open"},[e._v("On")]),i("span",{attrs:{slot:"close"},slot:"close"},[e._v("Off")])])],1),i("FormItem",{attrs:{label:"value",prop:"propValue"}},[i("Input",{attrs:{type:"text",size:"small",maxlength:60,placeholder:e.dialogs.editElement.form.current.default},on:{"on-change":e.handleChangePropertyValue},model:{value:e.dialogs.editElement.form.current.value,callback:function(t){e.$set(e.dialogs.editElement.form.current,"value",t)},expression:"dialogs.editElement.form.current.value"}})],1),i("FormItem",{attrs:{label:"data-type",prop:"propDataType"}},[i("Select",{attrs:{size:"small",disabled:!0},on:{"on-change":e.handleChangePropertyDataType},model:{value:e.dialogs.editElement.form.current.datatype,callback:function(t){e.$set(e.dialogs.editElement.form.current,"datatype",t)},expression:"dialogs.editElement.form.current.datatype"}},e._l(e.dialogs.editElement.dataTypes,function(t){return i("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),i("FormItem",[i("Alert",[i("template",{slot:"desc"},[e._v(e._s(e.dialogs.editElement.form.current.desc))])],2)],1)],1)],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary"},on:{click:e.updateElement}},[e._v("Save")]),i("Button",{staticStyle:{"margin-left":"8px"},on:{click:e.closeEditElement}},[e._v("Cancel")])],1)],1),i("Modal",{attrs:{title:"Edit #Text",styles:{top:"20px"},"mask-closable":!1},model:{value:e.dialogs.editText.visible,callback:function(t){e.$set(e.dialogs.editText,"visible",t)},expression:"dialogs.editText.visible"}},[i("Form",{ref:"editText",attrs:{model:e.dialogs.editText.form}},[i("FormItem",{attrs:{prop:"text"}},[i("Input",{attrs:{type:"textarea",autosize:!0,placeholder:"Please enter text"},model:{value:e.dialogs.editText.form.text,callback:function(t){e.$set(e.dialogs.editText.form,"text",t)},expression:"dialogs.editText.form.text"}})],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary"},on:{click:e.updateText}},[e._v("Save")]),i("Button",{staticStyle:{"margin-left":"8px"},on:{click:e.closeEditText}},[e._v("Cancel")])],1)],1),i("Modal",{attrs:{styles:{top:"20px"},title:"About"},model:{value:e.dialogs.about.visible,callback:function(t){e.$set(e.dialogs.about,"visible",t)},expression:"dialogs.about.visible"}},[i("h3",[e._v("Troll "),i("span",{staticStyle:{fontWeight:"normal"}},[e._v("-- An visual editor for vue(2.x)")])]),i("p",[e._v("Author: unique")]),i("p",[e._v("Email: ods_hla@163.com")]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"success",size:"large"},on:{click:function(t){e.dialogs.about.visible=!1}}},[e._v("OK")])],1)]),i("Modal",{attrs:{title:e.dialogs.customProperty.title,mask:!1,styles:{top:"20px"}},model:{value:e.dialogs.customProperty.visible,callback:function(t){e.$set(e.dialogs.customProperty,"visible",t)},expression:"dialogs.customProperty.visible"}},[i("Form",{ref:"customProperty",attrs:{model:e.dialogs.customProperty.form,rules:e.dialogs.customProperty.rules}},[i("FormItem",{attrs:{prop:"name"}},[i("Input",{attrs:{type:"text",placeholder:"name"},model:{value:e.dialogs.customProperty.form.name,callback:function(t){e.$set(e.dialogs.customProperty.form,"name",t)},expression:"dialogs.customProperty.form.name"}},[i("Icon",{attrs:{slot:"prepend",type:"ios-code"},slot:"prepend"})],1)],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary"},on:{click:e.addCustomProperty}},[e._v("Add")]),i("Button",{staticStyle:{"margin-left":"8px"},on:{click:e.closeCustomProperty}},[e._v("Cancel")])],1)],1)],1)},j=[],O=i("024c"),_=i("ffaa"),B=i.n(_),T=(i("aaa4"),i("3a23"),i("75f2")),W=i.n(T),A=(i("ea65"),i("6d57"),i("13de"),i("f91a"),i("5a49"),i("a585")),L=i("26cb"),I=i("a154"),F=i.n(I),N=i("8778"),D=i.n(N),H={dragDistance:40,dropFill:"#ddd",element:{minWidth:160,minHeight:50,margin:10,space:6,highlight:"#EE82EE",maxWidth:800},text:{minWidth:20,minHeight:20,fontSize:14,fontFamily:"Calibri",highlight:"#EE82EE"},property:{minWidth:60,minHeight:16,fontSize:12,minValueWidth:20,fontFamily:"Calibri",highlight:"#EE82EE"},holder:{minWidth:60,minHeight:16},svg:{baseSize:1024,default:"M290.306439 218.184864c0-2.815969-1.087988-90.495005 20.671773-117.438708 22.015758-27.519697 85.055064-63.039307 85.055064-63.039307s71.935209-44.735508 85.183063-36.671597C494.656191 8.971165 492.352216 95.626212 492.352216 95.626212s-0.639993 85.631058-14.52784 110.334786C464.000528 230.600727 392.00132 273.672253 392.00132 273.672253s-63.039307 41.151547-84.671069 40.319556C286.082485 313.223818 290.242439 221.192831 290.306439 218.184864zM334.145956 656.388043c0.511994 15.551829 77.055152 56.127383 77.055152 56.127383s75.263172 41.343545 103.358863 41.343545c28.351688 0 101.054888-41.599542 101.054888-41.599542s66.815265-34.815617 76.735156-54.015406c9.727893-18.943792-72.639201-60.415335-75.263172-61.887319C614.654871 594.948719 538.687706 551.173201 504.640081 556.805139 469.760465 562.693074 407.937145 600.132662 407.937145 600.132662S333.633962 640.900214 334.145956 656.388043zM302.722302 590.980763c21.631762 0.831991 84.607069-40.319556 84.607069-40.319556s71.935209-43.071526 85.823056-67.711255C487.040275 458.374222 487.744267 372.679164 487.744267 372.679164S489.856244 286.088117 476.608389 278.024205C463.296536 269.960294 391.361327 314.631803 391.361327 314.631803S328.450019 350.34341 306.306263 377.671109C284.610501 404.678812 285.63449 492.293848 285.63449 495.237816 285.506491 498.117784 281.474536 590.212771 302.722302 590.980763zM787.964964 353.415376c13.951847 24.639729 85.951055 67.711255 85.951055 67.711255s62.975307 41.215547 84.607069 40.319556c21.183767-0.831991 17.151811-92.798979 17.087812-95.742947 0-2.879968 1.215987-90.431005-20.607773-117.566707-22.143756-27.391699-85.119064-63.039307-85.119064-63.039307s-71.935209-44.735508-85.183063-36.607597c-13.375853 7.999912-11.199877 94.590959-11.199877 94.590959S774.269115 328.903646 787.964964 353.415376zM717.821736 377.671109c-22.207756-27.391699-85.119064-63.103306-85.119064-63.103306S560.767464 269.960294 547.45561 278.024205C534.207756 286.088117 536.255733 372.679164 536.255733 372.679164s0.831991 85.631058 14.655839 110.270787c13.887847 24.639729 85.759057 67.711255 85.759057 67.711255s63.103306 41.151547 84.671069 40.319556c21.247766-0.831991 17.151811-92.926978 17.023813-95.806946C738.36551 492.293848 739.517497 404.678812 717.821736 377.671109zM546.303623 205.960998c13.759849 24.639729 85.759057 67.711255 85.759057 67.711255s63.039307 41.151547 84.671069 40.319556c21.183767-0.767992 17.151811-92.798979 17.087812-95.806946 0-2.815969 1.023989-90.495005-20.671773-117.438708-22.079757-27.519697-85.119064-63.039307-85.119064-63.039307S556.031516-7.092658 542.783661 0.971253C529.407809 8.971165 531.647784 95.626212 531.647784 95.626212S532.351776 181.25727 546.303623 205.960998zM231.299088 630.532328c13.823848-24.703728 14.591839-110.334786 14.591839-110.334786s2.175976-86.591047-11.071878-94.718958C221.379197 417.478671 149.443988 462.15018 149.443988 462.15018S86.596679 497.733789 64.452923 525.189487c-21.759761 27.071702-20.735772 114.622739-20.735772 117.502707C43.653152 645.636162 39.685195 737.667149 60.804963 738.56314c21.695761 0.703992 84.671069-40.383556 84.671069-40.383556S217.47524 654.980059 231.299088 630.532328zM860.924162 727.939256c-2.431973-1.343985-78.335138-45.247502-112.510762-39.423566-34.751618 5.695937-96.638937 43.263524-96.638937 43.263524s-74.303183 40.703552-73.855188 56.255381c0.639993 15.48783 77.119152 56.127383 77.119152 56.127383s75.263172 41.343545 103.294864 41.343545c28.351688 0 101.118888-41.727541 101.118888-41.727541s66.815265-34.815617 76.671157-54.015406C945.979226 770.882784 863.676132 729.283242 860.924162 727.939256zM65.476912 461.446188c21.631762 0.831991 84.671069-40.319556 84.671069-40.319556S222.083189 378.119104 235.971036 353.415376c13.823848-24.57573 14.655839-110.398786 14.655839-110.398786S252.738852 156.553542 239.554997 148.48963C226.115145 140.425719 154.179936 185.161227 154.179936 185.161227S91.204629 220.744836 69.124872 248.136534C47.365111 275.272236 48.453099 362.823273 48.453099 365.703241 48.3251 368.647209 44.293145 460.678196 65.476912 461.446188zM980.282849 642.692194c0.063999-2.879968 1.087988-90.431005-20.671773-117.502707-22.079757-27.455698-85.119064-63.039307-85.119064-63.039307s-71.80721-44.671509-85.183063-36.671597c-13.247854 8.127911-11.199877 94.718958-11.199877 94.718958s0.831991 85.631058 14.655839 110.334786c13.823848 24.51173 85.759057 67.711255 85.759057 67.711255s63.039307 41.087548 84.735068 40.383556C984.506802 737.667149 980.346848 645.636162 980.282849 642.692194zM445.312734 796.6745c9.663894-18.879792-72.639201-60.351336-75.327171-61.82332-2.431973-1.343985-78.335138-45.183503-112.510762-39.487566-34.687618 5.823936-96.638937 43.263524-96.638937 43.263524s-74.239183 40.831551-73.727189 56.38338 77.055152 56.063383 77.055152 56.063383 75.135174 41.343545 103.422862 41.343545 101.054888-41.599542 101.054888-41.599542S435.328843 815.938288 445.312734 796.6745zM613.886879 866.433733c-2.431973-1.343985-78.271139-45.183503-112.446763-39.423566-34.815617 5.823936-96.766936 43.199525-96.766936 43.199525s-74.175184 40.89555-73.66319 56.447379c0.511994 15.551829 77.055152 56.063383 77.055152 56.063383S483.136318 1024 511.360007 1024s101.054888-41.599542 101.054888-41.599542 66.815265-34.815617 76.671157-54.015406C698.813945 909.44126 616.51085 867.841717 613.886879 866.433733z",root:"M599.296 791.424c0-26.432 21.504-48 48-48s48 21.568 48 48-21.504 48-48 48S599.296 817.856 599.296 791.424zM391.296 743.424c-26.496 0-48 21.568-48 48s21.504 48 48 48 48-21.568 48-48S417.792 743.424 391.296 743.424zM245.12 580.8C236.416 568.832 222.912 560.448 206.912 560.448c-26.496 0-48 21.568-48 48s21.504 48 48 48 48-21.568 48-48c0-5.376-1.408-10.304-3.072-15.104L245.12 580.8zM564.288 214.272c0-26.432-21.504-48-48-48s-48 21.568-48 48 21.504 48 48 48S564.288 240.704 564.288 214.272zM816.512 560.448c-16 0-29.44 8.384-38.208 20.352l-6.72 12.48c-1.6 4.8-3.072 9.728-3.072 15.104 0 26.432 21.504 48 48 48s48-21.568 48-48S843.008 560.448 816.512 560.448zM960 512c0 247.36-200.576 448-448 448-247.36 0-448-200.64-448-448 0-247.424 200.64-448 448-448C759.424 64 960 264.576 960 512zM912.512 608.448c0-52.992-43.008-96-96-96-23.616 0-44.992 8.896-61.696 23.04-54.976-28.928-128.128-66.176-151.68-76.288C576.576 447.808 560.704 426.24 550.912 404.608 546.88 381.888 545.344 356.096 545.728 338.496L545.728 305.216c38.528-12.48 66.56-48.256 66.56-90.944 0-52.992-43.008-96-96-96s-96 43.008-96 96c0 42.944 28.352 78.848 67.328 91.136l0 33.152c-0.192 1.92 0.064 4.8 0 7.168C486.208 364.672 476.928 434.944 420.288 459.2c-23.552 10.112-96.64 47.36-151.616 76.288-16.768-14.208-38.144-23.04-61.76-23.04-52.992 0-96 43.008-96 96s43.008 96 96 96 96-43.008 96-96c0-11.84-2.432-22.976-6.336-33.408C348.608 547.776 414.72 514.048 437.568 504.064 426.88 522.688 416.448 541.312 410.24 553.216c-27.648 53.376-25.216 121.472-25.088 123.392l0 19.52c-50.112 3.264-89.856 44.48-89.856 95.36 0 52.992 43.008 96 96 96s96-43.008 96-96c0-37.952-22.208-70.4-54.144-86.016l0-29.888c-0.704-16 1.536-65.344 19.712-100.224C467.072 547.968 506.304 480.768 513.92 469.184c1.664-2.56 2.944-5.76 4.352-8.64 1.536 3.008 2.88 6.272 4.608 8.896C530.56 480.768 570.304 547.84 584.768 575.296c21.888 41.856 19.904 99.712 19.84 101.248l0 29.376c-31.424 15.744-53.248 47.936-53.248 85.504 0 52.992 43.008 96 96 96s96-43.008 96-96c0-51.2-40.256-92.672-90.752-95.488l0-18.368c0.128-2.88 2.688-70.976-25.344-124.544C622.208 543.36 613.824 528.576 604.8 512.96c30.464 14.656 80.512 40.32 121.984 62.08-3.904 10.432-6.336 21.632-6.336 33.408 0 52.992 43.008 96 96 96S912.512 661.44 912.512 608.448z",sequence:"M64 384l0 384 0 192 192 0 0-192L256 384 256 64 64 64 64 384zM192 448l0 256L128 704 128 448 192 448zM320 576l0 320 0 64 192 0 0-64L512 576 512 256 320 256 320 576zM448 640l0 192L384 832l0-192L448 640zM576 320l0 384 0 256 192 0 0-256L768 320 768 128 576 128 576 320zM704 384l0 256-64 0L640 384 704 384zM832 384l0 192 0 320 0 64 192 0 0-64L1024 576 1024 384 832 384zM960 640l0 192-64 0 0-192L960 640z",selector:"M950.658471 77.376c-61.184-63.104-261.248-76.352-418.432-76.352L525.314471 1.024C520.194471 0.896 498.370471 0.128 466.946471 0.128c-118.592 0-276.224 9.088-353.344 51.776C0.642471 114.432-2.941529 391.168 0.898471 509.248c-3.84 119.936-0.192 400.384 112.704 463.04 76.992 42.56 234.624 51.648 353.152 51.648 31.488 0 53.44-0.704 58.624-0.896l6.976 0c157.12 0 357.184-13.248 418.368-76.352 69.056-71.104 74.24-327.232 73.28-434.624C1024.962471 404.608 1019.778471 148.608 950.658471 77.376zM912.578471 910.336c-6.848 7.104-17.152 13.312-29.824 18.88L882.754471 576.832c0-19.584-15.744-35.392-35.264-35.392L776.962471 541.44c-19.52 0-35.392 15.808-35.392 35.392l0 382.912c-19.648 2.24-39.424 3.968-58.752 5.44L682.818471 788.48c0-19.584-15.808-35.264-35.328-35.264L576.962471 753.216c-19.584 0-35.392 15.68-35.392 35.264l0 182.144c-3.456 0-6.784 0-9.216 0-5.056 0-7.872 0-7.872 0s-16.384 0.512-41.728 0.64l0-270.976c0-19.52-15.808-35.264-35.328-35.264L376.834471 665.024c-19.52 0-35.328 15.744-35.328 35.264l0 267.2c-19.584-1.344-39.36-3.2-58.816-5.44L282.690471 523.776c0-19.392-15.744-35.2-35.2-35.2L176.834471 488.576c-19.52 0-35.328 15.808-35.328 35.2l0 403.52c-0.576-0.32-1.472-0.576-2.048-0.896-97.472-54.016-85.888-405.824-85.504-417.216C53.698471 503.296 50.498471 401.28 62.274471 299.392c23.296-8.192 124.032-37.248 263.04 19.584C412.802471 354.624 519.746471 429.504 557.890471 532.992l30.656 83.2 20.032-86.4c28.544-124.096 88.832-174.272 132.992-194.688l0 63.168c0 6.72 2.368 12.416 7.232 17.216 4.8 4.928 10.624 7.36 17.28 7.296 6.336-0.064 12.224-2.432 17.088-7.296l92.672-92.544c4.8-4.928 7.168-10.688 7.232-17.216-0.064-6.656-2.432-12.352-7.232-17.216l-92.736-92.672c-4.736-4.864-10.688-7.232-17.024-7.232-6.656 0-12.416 2.368-17.28 7.168-4.864 4.928-7.232 10.56-7.296 17.216l0.064 65.088c-49.344 16.448-121.472 59.968-165.056 174.656C520.450471 365.504 425.410471 302.528 345.346471 269.952 218.434471 218.176 119.874471 229.696 70.850471 241.664c12.416-66.432 33.344-124.48 68.608-144 71.232-39.552 238.72-44.992 327.488-44.992 34.816 0 57.536 0.832 57.536 0.832s2.816 0 7.808 0c50.176 0 324.48 2.688 380.288 60.288C974.146471 177.344 971.074471 512 971.074471 512S974.146471 846.72 912.578471 910.336z",decorator:"M810.688 463.616c-81.472 0-149.376 69.504-149.376 149.376 0 58.24 36.352 110.72 87.744 134.976-24.512 66.304-87.552 113.856-162.368 113.856-85.12 0-154.88-61.44-170.048-142.272 19.712-27.456 36.416-62.4 42.816-87.872 144.896-95.552 201.856-385.536 201.856-417.024 0-53.824-99.584-149.312-99.584-149.312L526.976 65.344C491.136 58.24 454.4 78.272 441.856 114.176 428.16 153.408 448.576 196.032 487.36 209.664 495.488 212.48 503.808 213.568 512 213.504l0 1.28 49.728 0C560.896 260.48 505.92 563.2 362.688 563.2c-143.04 0-199.104-348.416-199.104-348.416l32.32 0c29.632 6.528 61.248-5.76 78.528-33.344C296.32 145.92 286.016 99.392 251.328 77.12c-11.904-7.616-24.96-11.136-38.016-11.392L213.312 65.408 163.584 65.408c0 0-99.584 82.88-99.584 136.32 0 31.744 58.048 335.36 205.568 431.36 10.112 28.096 28.288 67.776 48.896 95.808 20.096 131.328 131.328 232.512 268.224 232.512 127.36 0 232.768-87.36 263.04-205.184C912.704 738.24 960 679.488 960 612.992 960 533.184 892.224 463.616 810.688 463.616zM810.688 662.72c-27.584 0-49.792-22.272-49.792-49.728 0-27.584 22.272-49.792 49.792-49.792 27.52 0 49.728 22.272 49.728 49.792C860.416 640.512 838.208 662.72 810.688 662.72z",service:"M862.336 700.672c-38.976 0-74.816 13.824-102.784 36.8l0.192-0.512c0 0-52.48 53.824-136.256 35.072l-251.2-67.264C320.64 686.08 298.24 649.024 290.048 630.528 284.352 611.968 275.264 595.008 263.296 580.288l0.192 0c0 0-45.888-52.992-28.096-129.088l38.976-145.728c14.72-44.48 47.68-62.144 64.384-70.656 23.616-8.768 43.776-24.704 57.728-45.184C406.656 177.344 433.984 150.784 482.56 148.224l226.624 0c36.992 3.008 58.624 26.816 65.344 35.52 0.448 0.64 0.896 1.28 1.28 1.856l0 0c0 0 28.032 37.76 16.192 81.536l0 0-24.512 91.648c-0.256 0.768-0.512 1.472-0.768 2.368-9.792 36.48-31.04 54.336-43.072 61.76-16.256 5.632-30.528 15.552-41.344 28.48-0.128 0.128-0.32 0.32-0.512 0.512-3.392 4.096-6.528 8.64-9.152 13.312-17.92 19.264-46.272 19.776-48.256 19.776L624.256 484.992 620.48 484.992C612.544 484.608 593.28 481.6 575.808 462.4c-0.64-0.896-1.344-1.728-2.048-2.624C563.072 444.736 563.072 430.144 564.288 421.888l2.432-8.896C568.832 407.744 575.552 393.6 589.76 386.368c25.408-9.6 43.584-34.176 43.584-62.976C633.344 286.144 603.2 256 565.952 256 528.768 256 498.56 286.144 498.56 323.392c0 12.672 3.52 24.512 9.6 34.688 8.64 25.088 5.632 44.16 5.632 44.16s0 0.064-0.064 0.256L511.936 409.344C509.056 416.384 501.824 427.2 483.584 436.352 452.928 447.872 431.168 477.376 431.168 512c0 44.672 36.16 80.832 80.832 80.832 26.048 0 49.28-12.288 64-31.36 23.296-21.888 45.952-22.528 45.952-22.528l8.064 0c10.56 0.832 29.696 5.12 45.312 24.256 16.896 25.984 46.016 43.136 79.232 43.136 52.096 0 94.272-42.24 94.272-94.336 0-22.528-7.872-43.264-21.056-59.52-6.72-14.272-17.728-43.264-10.496-70.528 0.448-1.344 0.704-2.688 0.96-4.096l24.896-92.992c13.12-39.232 47.936-58.24 59.008-63.424 39.872-15.808 68.096-54.656 68.096-100.16 0-59.52-48.384-107.84-107.904-107.84-33.344 0-63.296 15.296-83.136 39.168l0.064-0.448c0 0-29.312 42.112-84.928 42.112l-201.6 0c-55.68-0.064-84.672-27.328-95.296-40.256C375.616 21.504 338.496 0 296.448 0 229.504 0 175.168 54.272 175.168 121.28c0 28.672 9.92 54.976 26.56 75.776 20.608 29.44 28.032 67.2 18.304 102.72C219.904 300.608 219.712 301.376 219.52 302.144L183.36 437.056C160.64 517.44 94.4 535.232 94.4 535.232l0.576 0.192C39.424 556.736 0 610.56 0 673.664c0 81.792 66.368 148.224 148.224 148.224 38.208 0 73.024-14.528 99.264-38.272 17.024-11.712 64.768-38.656 127.36-21.888 4.096 1.152 8.064 1.92 11.84 2.688l222.976 59.776c65.536 20.288 93.888 77.312 100.288 92.288C732.288 979.2 792.064 1024 862.336 1024 951.68 1024 1024 951.552 1024 862.336 1024 772.992 951.68 700.672 862.336 700.672z",task:"M638.4 407.104C603.072 371.968 557.184 354.432 510.848 354.432S418.688 371.968 383.36 407.104c-35.328 35.2-52.864 81.088-52.864 127.104 0 46.016 17.536 91.776 52.864 126.976 35.328 35.2 81.28 52.608 127.616 52.608 46.272 0 92.032-17.408 127.36-52.608 35.392-35.264 52.864-81.024 52.928-126.976C691.264 488 673.728 442.304 638.4 407.104zM613.248 470.848 527.488 549.76C527.232 550.016 526.848 550.144 526.592 550.4 519.296 558.144 507.584 560.896 497.088 555.84L399.744 508.608c-12.672-6.208-18.176-21.12-12.224-33.344 6.016-12.16 21.12-17.216 33.728-11.008l82.688 40.192 75.84-69.76c10.304-9.536 26.24-9.28 35.456 0.64C624.448 445.376 623.552 461.248 613.248 470.848zM512 64C264.64 64 64 264.576 64 512c0 247.36 200.64 448 448 448 247.424 0 448-200.64 448-448C960 264.576 759.424 64 512 64zM335.68 258.304c27.456 0 51.712 13.824 66.048 34.944C373.824 306.88 348.096 324.992 325.504 347.584 309.824 363.2 296.256 380.288 284.736 398.656 267.264 384.064 256 362.176 256 337.664 256 293.824 291.776 258.304 335.68 258.304zM675.264 697.984c-45.248 44.992-104.832 67.712-164.16 67.712L510.976 765.696 510.72 765.696c-59.328 0-118.912-22.656-164.16-67.712C301.248 652.8 278.464 593.344 278.592 534.272 278.464 491.712 290.304 448.896 313.856 411.52c9.28-14.592 20.032-28.352 32.704-41.024 18.496-18.304 39.232-33.024 61.44-43.904 32.384-15.872 67.648-23.936 102.656-23.936l0.192 0 0.192 0c36.8 0 73.92 8.832 107.456 26.304 20.416 10.496 39.68 24.384 56.768 41.472L675.264 370.432c13.12 13.12 24.256 27.392 33.536 42.432 22.848 37.12 34.56 79.296 34.432 121.344C743.36 593.344 720.512 652.8 675.264 697.984zM739.328 398.592c-11.456-18.24-25.024-35.456-40.704-51.072-22.656-22.528-48.32-40.64-76.224-54.336 14.336-21.056 38.528-34.88 65.984-34.88C732.352 258.304 768 293.76 768 337.664 768 362.112 756.8 384.064 739.328 398.592z"}},$=H,R=i("ab01"),U=i.n(R),V=(i("244e"),i("26df")),J=i.n(V),G=i("fd86"),Z=i("7203"),q=i("3d0b"),X=i("85dd"),Y=i("d26d"),K=i("0ec6"),Q=i.n(K),ee=function(){function e(t){Object(A["a"])(this,e),this.config=F.a.Utils.lodash.merge({x:0,y:0,fill:"#ffffff",stroke:"#000000",strokeWidth:1,type:"node",dragDistance:0,names:{node:!0},canClose:!0,canMove:!0,canExpand:!1,acceptChild:!1,acceptProperty:!0},t),this.config.uid=F.a.Utils.common.uniqid(),this.config.names[this.config.type]=!0,this.isSelected=!1,this.root=new D.a.Group({x:this.config.x,y:this.config.y,draggable:!1,dragDistance:this.config.dragDistance,name:Q()(this.config.names).join(" "),id:this.config.uid}),this.background=this.createBackground(),this.background&&this.root.add(this.background),this.root.setAttr("@node",this),this.createBody()}return Object(L["a"])(e,[{key:"createBackground",value:function(){return new D.a.Rect({x:0,y:0,width:this.config.width,height:this.config.height,draggable:!0,fill:this.config.fill,stroke:this.config.stroke,strokeWidth:this.config.strokeWidth})}},{key:"createBody",value:function(){this.components={},this.body=new D.a.Group({x:0,y:0,name:"model-body"}),this.root.add(this.body)}},{key:"parent",value:function(){var e=this.root.getParent();while(e){if(e.hasName("element"))break;e=e.getParent()}return e?e.getAttr("@element"):null}},{key:"hasParent",value:function(e){var t=this.parent();while(t&&t!==e)t=t.parent();return t===e}},{key:"level",value:function(){var e=0,t=this.parent();while(t)e+=1,t=t.parent();return e}},{key:"remove",value:function(){}},{key:"destroy",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0],!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.root.destroy()}},{key:"deleteSelf",value:function(e){this.remove(),this.destroy()}},{key:"adjust",value:function(e){}},{key:"selected",value:function(e){this.isSelected=e,this.background&&this.background.fill(this.isSelected?this.config.highlight:this.config.fill)}},{key:"refresh",value:function(){this.root.getLayer().draw()}},{key:"nodeType",value:function(){return this.config.type}},{key:"isType",value:function(e){return this.root.hasName(e)}},{key:"toJson",value:function(){return{type:this.config.type,config:this.config}}},{key:"knode",value:function(){return this.root}},{key:"stage",value:function(){var e=this.root.getStage();return e?e.getAttr("@stage"):null}},{key:"position",value:function(){return this.root.position()}},{key:"size",value:function(){return{width:this.config.width,height:this.config.height}}},{key:"id",value:function(){return this.root.id()}},{key:"visible",value:function(e){if(null==e)return this.root.visible();this.root.visible(e)}},{key:"canClose",value:function(){return this.config.canClose}},{key:"canMove",value:function(){return this.config.canMove}},{key:"canExpand",value:function(){return this.config.canExpand}},{key:"canAcceptChild",value:function(){return this.config.acceptChild}},{key:"canAcceptProperty",value:function(){return this.config.acceptProperty}},{key:"clearContent",value:function(e){}},{key:"dump",value:function(){return this.toJson()}},{key:"code",value:function(){return""}}]),e}(),te=ee,ie=function(e){var t=e.height/2;return"m 0,4 a 4,4 0 0,1 4,-4 H ".concat(e.width-t," a ").concat(t,",").concat(t," 0 0,1 0,").concat(e.height," H 4 a 4,4 0 0,1 -4,-4 z")},oe=function(e){function t(e){var i;Object(A["a"])(this,t);var o=F.a.Utils.lodash.merge({x:0,y:0,type:"property",highlight:$.property.highlight,names:{},key:"",value:"",prefix:"",suffix:""},e);return o.name=o.name.replace(/^v-bind:/,":"),o.name=o.name.replace(/^v-on@/,"@"),":"===o.name[0]||"@"===o.name[0]?(o.prefix=o.name[0],o.key=o.name.substring(1)):o.key=o.name,o.width=Math.max(e.width||0,$.property.minWidth),o.height=Math.max(e.height||0,$.property.minHeight),i=Object(G["a"])(this,Object(q["a"])(t).call(this,o)),i.root.setAttr("@property",Object(Z["a"])(i)),i.config.canClose&&(i.closeBtn=i.createCloseButton({uid:i.config.uid,action:function(){i.deleteSelf()}}),i.root.add(i.closeBtn)),i.adjust(),i}return Object(Y["a"])(t,e),Object(L["a"])(t,[{key:"deleteSelf",value:function(e){var t=this.stage();t&&t.isReadOnly()||(this.remove(),this.destroy(),t.refresh(),t.snapshot())}},{key:"createBackground",value:function(){var e=this,t=new D.a.Path({x:0,y:0,data:ie(this.config),fill:this.config.fill,stroke:this.config.stroke,strokeWidth:this.config.strokeWidth,scaleX:1,scaleY:1});return t.hitFunc(function(i){i.beginPath(),i.rect(0,0,e.config.width,e.config.height),i.closePath(),i.fillStrokeShape(t)}),t}},{key:"createBody",value:function(){Object(X["a"])(Object(q["a"])(t.prototype),"createBody",this).call(this);var e=(this.config.height-$.property.fontSize)/2;this.components.key=new D.a.Text({x:4,y:e,text:this.config.name,fontSize:$.property.fontSize,fontFamily:"Calibri",fill:"#fff",listening:!1});var i="#9400D3";this.isVbind()?i="#A52A2A":this.isVon()?i="#006400":this.isDirective()&&(i="#1A1A1A"),this.components.keybg=new D.a.Rect({x:0,y:0,width:this.components.key.width()+8,height:this.config.height,fill:i,stroke:this.config.stroke,strokeWidth:this.config.strokeWidth,cornerRadius:4}),this.body.add(this.components.keybg),this.body.add(this.components.key),this.components.value=new D.a.Text({x:this.components.key.width()+12,y:e,text:this.config.value,fontSize:$.property.fontSize,fontFamily:"Calibri",fill:"#000",listening:!1}),this.body.add(this.components.value)}},{key:"createCloseButton",value:function(e){var t=F.a.Utils.lodash.merge({x:0,y:0,size:10,background:"transparent",stroke:"#333",strokeWidth:2,lineCap:"round",lineJoin:"round"},e),i=new D.a.Group({x:t.x,y:t.y,rotation:45,name:"property-close"}),o=new D.a.Circle({x:0,y:0,radius:t.size/2,fill:"transparent",stroke:"transparent"});i.add(o);var n=t.size/2-2,a=new D.a.Line({points:[-n,0,n,0],stroke:t.stroke,strokeWidth:t.strokeWidth,lineCap:"round",lineJoin:"round"});i.add(a);var s=new D.a.Line({points:[0,-n,0,n],stroke:t.stroke,strokeWidth:t.strokeWidth,lineCap:"round",lineJoin:"round"});return i.add(s),i.on("mousedown",function(){t.action&&t.action()}),i.on("mouseout",function(){s.setAttr("stroke",t.stroke),a.setAttr("stroke",t.stroke),this.getLayer().draw()}),i.on("mouseover",function(){s.setAttr("stroke","#FF3030"),a.setAttr("stroke","#FF3030"),this.getLayer().draw()}),i}},{key:"remove",value:function(){var e=this.parent();e&&e.removeProperty(this.config.key)}},{key:"debrief",value:function(){var e={name:this.config.name,key:this.config.key,node:this,parent:this.parent(),pos:-1};return e.parent&&(e.pos=e.parent.properties.indexOf(this)),e}},{key:"resizeWidth",value:function(e){if(e&&(this.config.width=e,this.background.data(ie(this.config))),this.closeBtn){var t=this.config.width,i=this.closeBtn.getClientRect();this.closeBtn.position({x:t-i.width/2,y:this.config.height/2})}}},{key:"adjust",value:function(e){var t=this.components.key.width()+12+this.components.value.width()+this.config.height,i=Math.max($.property.minWidth,t);this.resizeWidth(i)}},{key:"isVbind",value:function(){return":"===this.config.prefix}},{key:"isVon",value:function(){return"@"===this.config.prefix}},{key:"isDirective",value:function(){return 0===this.config.key.indexOf("v-")}},{key:"key",value:function(){return this.config.key}},{key:"value",value:function(e){return e?(this.config.value=e,this.components.value.text(e),void this.adjust({bubble:!0})):this.config.value}},{key:"code",value:function(){return"".concat(this.config.name,'="').concat(this.config.value,'"')}}]),t}(te),ne=oe,ae=function(e){var t=e.headHeight/2,i="m 0,4 A 4,4 0 0,1 4,0 H ".concat(e.width-t," a ").concat(t,",").concat(t," 0 0,1 0,").concat(2*t," ");if(e.expanded){var o=5;i+="H 20 a 4,4 0 0,0 -4,4 v ".concat(e.height-e.headHeight-18," a 4,4 0 0,0 4,4 H ").concat(e.width-t," a ").concat(o,",").concat(o," 0 0,1 0,").concat(2*o," H 4 a 4,4 0 0,1 -4,-4 z")}else i+="H 4 a 4,4 0 0,1 -4,-4 z";return i},se=function(e){function t(e){var i;Object(A["a"])(this,t);var o=F.a.Utils.lodash.merge({fill:"pink",stroke:"red",strokeWidth:1,highlight:$.element.highlight,dragDistance:$.dragDistance,type:"element",names:{},canExpand:!0,expanded:!1,acceptChild:!0,headHeight:20},e);return"template"===o.tagName&&(o.fill="#CDB5CD"),o.width=Math.max(e.width||0,$.element.minWidth),o.height=Math.max(e.height||0,$.element.minHeight),i=Object(G["a"])(this,Object(q["a"])(t).call(this,o)),i.root.setAttr("@element",Object(Z["a"])(i)),i.propertyMap=new J.a,i.properties=[],i.children=[],i.config.canClose&&(i.components.closeBtn=i.createCloseButton({size:10,uid:i.config.uid,action:function(){i.deleteSelf()}}),i.root.add(i.components.closeBtn)),i.config.canExpand&&(i.components.expandBtn=i.createExpandButton({size:10,uid:i.config.uid,action:function(){var e=i.stage();e&&e.isReadOnly()||(i.toggleExpand(),i.refresh(),e.snapshot())}}),i.root.add(i.components.expandBtn)),i.adjust(),i}return Object(Y["a"])(t,e),Object(L["a"])(t,[{key:"deleteSelf",value:function(e){var t=this.stage();t&&t.isReadOnly()||(this.remove(),this.clearContent(),this.destroy(),t.refresh(!0),t.snapshot())}},{key:"createBackground",value:function(){var e=this,t=new D.a.Path({x:0,y:0,data:ae(this.config),fill:this.config.fill,stroke:this.config.stroke,strokeWidth:this.config.strokeWidth,scaleX:1,scaleY:1});return t.hitFunc(function(i){var o=e.size();i.beginPath(),i.rect(0,0,o.width,o.height),i.closePath(),i.fillStrokeShape(t)}),t}},{key:"createBody",value:function(){Object(X["a"])(Object(q["a"])(t.prototype),"createBody",this).call(this),this.components.name=new D.a.Text({x:20,y:2,text:this.config.tagName,fontSize:14,fontFamily:"Calibri",fontStyle:"bold",fill:"#000",listening:!1}),this.body.add(this.components.name),this.propOffset=40+this.components.name.width()}},{key:"expand",value:function(e){this.config.expanded=e,this.components.expandVline.visible(!this.config.expanded),this.background.data(ae(this.config));var t=!0,i=!1,o=void 0;try{for(var n,a=W()(this.children);!(t=(n=a.next()).done);t=!0){var s=n.value;s.knode().visible(this.config.expanded)}}catch(r){i=!0,o=r}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}this.adjust({bubble:!0})}},{key:"toggleExpand",value:function(){this.expand(!this.config.expanded)}},{key:"expandChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!0,o=!1,n=void 0;try{for(var a,s=W()(this.children);!(i=(a=s.next()).done);i=!0){var r=a.value;"element"===r.nodeType()&&(t&&r.expandChildren(e,t),r.expand(e))}}catch(l){o=!0,n=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw n}}}},{key:"addProperty",value:function(e){var t=new ne(U()({x:this.propOffset,y:2},e));return this.body.add(t.knode()),this.properties.push(t),this.propertyMap.set(t.key(),t),t}},{key:"addChild",value:function(e){e&&(e.knode().x(16),e.knode().visible(this.config.expanded),this.children.push(e),this.body.add(e.knode()),this.adjust())}},{key:"remove",value:function(){var e=this.parent();e&&e.removeChild(this)}},{key:"removeChild",value:function(e){if(e){var t=this.children.indexOf(e);t>=0&&(this.children.splice(t,1),e.knode().remove()),this.adjust()}}},{key:"insertChild",value:function(e,t){e.knode().x(16),e.knode().visible(this.config.expanded),this.body.add(e.knode()),t<0?this.children.push(e):this.children.splice(t,0,e),this.adjust()}},{key:"placeholderChild",value:function(e){var t=this.config.width,i=this.config.height,o=this.root.getAbsolutePosition(),n=this.stage().zoom,a={top:o.y,bottom:o.y+i*n,left:o.x,right:o.x+t*n};if(e.y<a.top||e.y>a.bottom)return-1;var s=-1;if(0===this.children.length)s=0;else for(var r=a.top+this.config.headHeight*n,l=0;l<this.children.length;l++){var c=this.children[l];if(r+=c.size().height*n,e.y<r){s=l;break}}return s}},{key:"swapChild",value:function(e,t){if(e<0&&(e=this.children.length-1),t<0&&(t=this.children.length-1),e!==t){var i=this.children[e];this.children[e]=this.children[t],this.children[t]=i,this.adjust()}}},{key:"clearProperty",value:function(){var e=!0,t=!1,i=void 0;try{for(var o,n=W()(this.properties);!(e=(o=n.next()).done);e=!0){var a=o.value;a.destroy()}}catch(s){t=!0,i=s}finally{try{e||null==n.return||n.return()}finally{if(t)throw i}}this.properties=[],this.propertyMap.clear()}},{key:"removeProperty",value:function(e){if(this.propertyMap.has(e)){var t=this.propertyMap.get(e);t.knode().remove(),this.propertyMap.delete(e);var i=this.properties.indexOf(t);this.properties.splice(i,1),this.adjust({bubble:!0})}}},{key:"insertProperty",value:function(e,t){if(this.propertyMap.has(e.config.key)){var i=this.propertyMap.get(e.config.key),o=this.properties.indexOf(i);return this.swapProperty(t,o),i.value(e.config.value),e.destroy(),void this.adjust({bubble:!0})}this.propertyMap.set(e.config.key,e),this.body.add(e.knode()),t<0?this.properties.push(e):this.properties.splice(t,0,e),this.adjust({bubble:!0})}},{key:"placeholderProperty",value:function(e){var t=this.config.width,i=this.root.getAbsolutePosition(),o=this.stage().zoom,n={top:i.y,bottom:i.y+this.config.headHeight*o,left:i.x,right:i.x+t*o};if(e.x<n.left||e.x>n.right||e.y<n.top||e.y>n.bottom)return-1;var a=-1;if(0===this.properties.length)a=0;else{var s=(e.x-n.left)/o;s<=this.propOffset&&(a=0)}return a}},{key:"swapProperty",value:function(e,t){if(e<0&&(e=this.properties.length-1),t<0&&(t=this.properties.length-1),e!==t){var i=this.properties[e];this.properties[e]=this.properties[t],this.properties[t]=i,this.adjust({bubble:!0})}}},{key:"debrief",value:function(){var e={node:this,parent:this.parent(),pos:-1};return e.parent&&(e.pos=e.parent.children.indexOf(this)),e}},{key:"createExpandButton",value:function(e){var t=F.a.Utils.lodash.merge({x:10,y:10,size:10,background:"transparent",stroke:"#333",strokeWidth:1,lineCap:"round",lineJoin:"round"},e),i=new D.a.Group({x:t.x,y:t.y,name:"element-extend"}),o=new D.a.Circle({x:0,y:0,radius:t.size/2,fill:t.background,stroke:t.stroke,strokeWidth:t.strokeWidth});i.add(o);var n=t.size/2-2,a=new D.a.Line({points:[-n,0,n,0],stroke:t.stroke,strokeWidth:t.strokeWidth,lineCap:"round",lineJoin:"round",listening:!1});i.add(a),this.components.expandVline=new D.a.Line({points:[0,-n,0,n],stroke:t.stroke,strokeWidth:t.strokeWidth,lineCap:"round",lineJoin:"round",listening:!1}),this.components.expandVline.visible(!this.config.expanded),i.add(this.components.expandVline),i.on("mousedown",function(){t.action&&t.action()});var s=this;return i.on("mouseout",function(){s.components.expandVline.setAttr("stroke",t.stroke),a.setAttr("stroke",t.stroke),this.getLayer().draw()}),i.on("mouseover",function(){s.components.expandVline.setAttr("stroke","#FF3030"),a.setAttr("stroke","#FF3030"),this.getLayer().draw()}),i}},{key:"createCloseButton",value:function(e){var t=F.a.Utils.lodash.merge({x:0,y:0,size:10,background:"transparent",stroke:"#333",strokeWidth:2,lineCap:"round",lineJoin:"round"},e),i=new D.a.Group({x:t.x,y:t.y,rotation:45,name:"node-close"}),o=new D.a.Circle({x:0,y:0,radius:t.size/2,fill:t.background,stroke:t.background});i.add(o);var n=t.size/2-2,a=new D.a.Line({points:[-n,0,n,0],stroke:t.stroke,strokeWidth:t.strokeWidth,lineCap:"round",lineJoin:"round",listening:!1});i.add(a);var s=new D.a.Line({points:[0,-n,0,n],stroke:t.stroke,strokeWidth:t.strokeWidth,lineCap:"round",lineJoin:"round",listening:!1});return i.add(s),i.on("mousedown",function(){t.action&&t.action()}),i.on("mouseout",function(){s.setAttr("stroke",t.stroke),a.setAttr("stroke",t.stroke),this.getLayer().draw()}),i.on("mouseover",function(){s.setAttr("stroke","#FF3030"),a.setAttr("stroke","#FF3030"),this.getLayer().draw()}),i}},{key:"resizeWidth",value:function(e){this.config.width=e,this.background.data(ae(this.config));var t=this.propOffset,i=2,o=!0,n=!1,a=void 0;try{for(var s,r=W()(this.properties);!(o=(s=r.next()).done);o=!0){var l=s.value;t+l.config.width+8>=$.element.maxWidth&&(t=this.propOffset,i+=20),l.knode().x(t),l.knode().y(i),t+=l.config.width+8}}catch(u){n=!0,a=u}finally{try{o||null==r.return||r.return()}finally{if(n)throw a}}if(this.components.closeBtn){var c=this.config.width,d=this.components.closeBtn.getClientRect();this.components.closeBtn.position({x:c-d.width/2,y:this.config.headHeight/2})}}},{key:"resizeHeight",value:function(e){this.config.height=e,this.background.data(ae(this.config));var t=this.config.headHeight,i=!0,o=!1,n=void 0;try{for(var a,s=W()(this.children);!(i=(a=s.next()).done);i=!0){var r=a.value;r.knode().y(t),t+=r.size().height}}catch(l){o=!0,n=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw n}}}},{key:"adjust",value:function(e){var t=U()({bubble:!1,capture:!1},e),i=20,o=this.propOffset+20,n=!0,a=!1,s=void 0;try{for(var r,l=W()(this.properties);!(n=(r=l.next()).done);n=!0){var c=r.value;o+=c.config.width+8,o>=$.element.maxWidth&&(o=this.propOffset+20,o+=c.config.width+8,i+=20)}}catch(k){a=!0,s=k}finally{try{n||null==l.return||l.return()}finally{if(a)throw s}}i>20&&(o=$.element.maxWidth),this.config.headHeight=i;var d=0;if(this.config.expanded){var u=!0,h=!1,p=void 0;try{for(var f,m=W()(this.children);!(u=(f=m.next()).done);u=!0){var g=f.value;t.capture&&g.adjust({capture:!0}),d+=g.size().height}}catch(k){h=!0,p=k}finally{try{u||null==m.return||m.return()}finally{if(h)throw p}}}var v=Math.max($.element.minWidth,o);this.resizeWidth(v);var y=Math.max($.element.minHeight,d+10+this.config.headHeight);if(this.resizeHeight(y),t.bubble){var b=this.parent();b&&b.adjust({bubble:!0})}}},{key:"tagName",value:function(){return this.config.tagName}},{key:"tagCategory",value:function(){return this.config.tagCategory}},{key:"isExpanded",value:function(){return this.config.expanded}},{key:"toJson",value:function(){var e={type:this.config.type,config:this.config,properties:[],children:[]},t=!0,i=!1,o=void 0;try{for(var n,a=W()(this.properties);!(t=(n=a.next()).done);t=!0){var s=n.value;e.properties.push(s.toJson())}}catch(p){i=!0,o=p}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}var r=!0,l=!1,c=void 0;try{for(var d,u=W()(this.children);!(r=(d=u.next()).done);r=!0){var h=d.value;e.children.push(h.toJson())}}catch(p){l=!0,c=p}finally{try{r||null==u.return||u.return()}finally{if(l)throw c}}return e}},{key:"size",value:function(){return{width:this.config.width,height:this.config.expanded?this.config.height:this.config.headHeight}}},{key:"clearContent",value:function(e){this.clearProperty();var t=!0,i=!1,o=void 0;try{for(var n,a=W()(this.children);!(t=(n=a.next()).done);t=!0){var s=n.value;s.clearContent(),s.destroy()}}catch(r){i=!0,o=r}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}this.children=[],e&&this.adjust(e)}},{key:"code",value:function(){var e="<".concat(this.config.tagName),t=!0,i=!1,o=void 0;try{for(var n,a=W()(this.properties);!(t=(n=a.next()).done);t=!0){var s=n.value;e+=" ".concat(s.code())}}catch(p){i=!0,o=p}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}e+=">";var r=!0,l=!1,c=void 0;try{for(var d,u=W()(this.children);!(r=(d=u.next()).done);r=!0){var h=d.value;e+=h.code()}}catch(p){l=!0,c=p}finally{try{r||null==u.return||u.return()}finally{if(l)throw c}}return e+="</".concat(this.config.tagName,">"),e}}]),t}(te),re=se,le=function(e){return"m 0,4 A 4,4 0 0,1 4,0 H ".concat(e.width-4," a 4,4 0 0,1 4,4 V ").concat(e.height-4," a 4,4 0 0,1 -4,4 H 4 a 4,4 0 0,1 -4,-4 z")},ce=function(e){function t(e){var i;Object(A["a"])(this,t);var o=F.a.Utils.lodash.merge({fill:"#fff",stroke:"#f00",strokeWidth:1,highlight:$.text.highlight,dragDistance:$.dragDistance,type:"text",names:{},tagName:"text"},e);return o.acceptChild=!1,o.width=Math.max(e.width||0,$.text.minWidth),o.height=Math.max(e.height||0,$.text.minHeight),i=Object(G["a"])(this,Object(q["a"])(t).call(this,o)),i.root.setAttr("@text",Object(Z["a"])(i)),i.config.canClose&&(i.components.closeBtn=i.createCloseButton({size:10,uid:i.config.uid,action:function(){i.deleteSelf()}}),i.root.add(i.components.closeBtn)),i.adjust(),i}return Object(Y["a"])(t,e),Object(L["a"])(t,[{key:"deleteSelf",value:function(e){var t=this.stage();t&&t.isReadOnly()||(this.remove(),this.destroy(),t.refresh(),t.snapshot())}},{key:"createBackground",value:function(){var e=this,t=new D.a.Path({x:0,y:0,data:le(this.config),fill:this.config.fill,stroke:this.config.stroke,strokeWidth:this.config.strokeWidth,scaleX:1,scaleY:1});return t.hitFunc(function(i){i.beginPath(),i.rect(0,0,e.config.width,e.config.height),i.closePath(),i.fillStrokeShape(t)}),t}},{key:"createBody",value:function(){Object(X["a"])(Object(q["a"])(t.prototype),"createBody",this).call(this),this.components.text=new D.a.Text({x:8,y:3,text:this.config.text,fontSize:$.text.fontSize,fontFamily:$.text.fontFamily,fill:"#000",listening:!1}),this.body.add(this.components.text)}},{key:"remove",value:function(){var e=this.parent();e&&e.removeChild(this)}},{key:"removeChild",value:function(e){if(e){var t=this.children.indexOf(e);t>=0&&(this.children.splice(t,1),e.knode().remove(),this.adjust({bubble:!0}))}}},{key:"debrief",value:function(){var e={node:this,parent:this.parent(),pos:-1};return e.parent&&(e.pos=e.parent.children.indexOf(this)),e}},{key:"createCloseButton",value:function(e){var t=F.a.Utils.lodash.merge({x:0,y:0,size:10,background:"transparent",stroke:"#333",strokeWidth:2,lineCap:"round",lineJoin:"round"},e),i=new D.a.Group({x:t.x,y:t.y,rotation:45,name:"node-close"}),o=new D.a.Circle({x:0,y:0,radius:t.size/2,fill:t.background,stroke:t.background});i.add(o);var n=t.size/2-2,a=new D.a.Line({points:[-n,0,n,0],stroke:t.stroke,strokeWidth:t.strokeWidth,lineCap:"round",lineJoin:"round"});i.add(a);var s=new D.a.Line({points:[0,-n,0,n],stroke:t.stroke,strokeWidth:t.strokeWidth,lineCap:"round",lineJoin:"round"});return i.add(s),i.on("mousedown",function(){t.action&&t.action()}),i.on("mouseout",function(){s.setAttr("stroke",t.stroke),a.setAttr("stroke",t.stroke),this.getLayer().draw()}),i.on("mouseover",function(){s.setAttr("stroke","#FF3030"),a.setAttr("stroke","#FF3030"),this.getLayer().draw()}),i}},{key:"resizeWidth",value:function(e){if(this.config.width=e,this.background.data(le(this.config)),this.components.closeBtn){var t=this.components.closeBtn.getClientRect();this.components.closeBtn.position({x:this.config.width-t.width/2,y:this.config.height/2})}}},{key:"resizeHeight",value:function(e){this.config.height=e,this.background.data(le(this.config)),this.components.closeBtn&&this.components.closeBtn.y(this.config.height/2)}},{key:"adjust",value:function(e){var t=U()({bubble:!1,capture:!1},e),i=this.components.text.width()+32,o=Math.max($.text.minWidth,i);this.resizeWidth(o);var n=this.components.text.height(),a=Math.max($.text.minHeight,n+6);if(this.resizeHeight(a),t.bubble){var s=this.parent();s&&s.adjust({bubble:!0})}}},{key:"tagName",value:function(){return this.config.tagName}},{key:"code",value:function(){return this.config.text}},{key:"changeText",value:function(e){this.config.text=e,this.components.text.text(e),this.adjust({bubble:!0})}},{key:"clearContent",value:function(e){this.changeText("")}}]),t}(te),de=ce,ue=function(e){var t=e.height/2;return"m 0,4 A 4,4 0 0,1 4,0 H ".concat(e.width-t," a ").concat(t,",").concat(t," 0 0,1 0,").concat(2*t," H 4 a 4,4 0 0,1 -4,-4 z")},he=function(e){function t(e){var i;Object(A["a"])(this,t);var o=F.a.Utils.lodash.merge({fill:"#ccc",stroke:"black",strokeWidth:1,type:"holder",names:{},canClose:!1,canMove:!1,acceptChild:!1,acceptProperty:!1,key:"**holder**"},e);return o.width=$.holder.minWidth,o.height=$.holder.minHeight,i=Object(G["a"])(this,Object(q["a"])(t).call(this,o)),i.root.setAttr("@holder",Object(Z["a"])(i)),i.setPrototype(e.proto),i}return Object(Y["a"])(t,e),Object(L["a"])(t,[{key:"createBackground",value:function(){var e=this,t=new D.a.Path({x:0,y:0,data:ue(this.config),fill:this.config.fill,stroke:this.config.stroke,strokeWidth:this.config.strokeWidth,scaleX:1,scaleY:1});return t.hitFunc(function(i){var o=e.size();i.beginPath(),i.rect(0,0,o.width,o.height),i.closePath(),i.fillStrokeShape(t)}),t}},{key:"createBody",value:function(){}},{key:"setPrototype",value:function(e){if(this.config.proto=e,this.config.proto){var t=this.config.proto.size();this.config.width=t.width,this.config.height=t.height,this.root.position(this.config.proto.position())}this.adjust()}},{key:"adjust",value:function(e){this.background.data(ue(this.config))}}]),t}(te),pe=he,fe=i("61c9"),me=i.n(fe),ge=function(){function e(t){var i=this;Object(A["a"])(this,e),this.options={draggable:!0,canZoom:!0,canWheelZoom:!0,readonly:!1,debug:!1,hoverExpand:!1,events:{}},F.a.Utils.lodash.merge(this.options,t),this.stage=new D.a.Stage(this.options),this.stage.setAttr("@stage",this),this.root=null,this.layers={},this.layers.model=new D.a.Layer,this.stage.add(this.layers.model),this.layers.drag=new D.a.Layer,this.stage.add(this.layers.drag),this.isDraging=!1,this.dragMarker=new D.a.Group({name:"dragmarker",draggable:!0,visible:!1,x:0,y:0}),this.layers.drag.add(this.dragMarker),this.holder=new pe({proto:null}),this.holder.knode().visible(!1),this.layers.drag.add(this.holder.knode()),this.modified=!1,this.mousePos={x:0,y:0},this.zoom=1,this.minZoom=.1,this.maxZoom=10,this.zoomFactor=1.25,this.maxAction=50,this.actions=[],this.actionIndex=-1,this.select=null,this.selectPos=null,this.orderCache={},this.board=null,this.cache=null;var o=this.stage.container();o.oncontextmenu=function(e){e.preventDefault()},o.tabIndex=1,o.focus(),o.addEventListener("keydown",function(e){if(!0!==e.ctrlKey){if(!0===e.altKey){if(8===e.keyCode&&i.select&&i.select.canClose()){var t=i.select.debrief();i.select=null,i.isDraging=!1,i.dragMarker.setAttr("@drag",null);var o=[].concat(t.node.children),n=!0,a=!1,s=void 0;try{for(var r,l=W()(o);!(n=(r=l.next()).done);n=!0){var c=r.value;t.node.removeChild(c),t.parent.insertChild(c,t.pos++)}}catch(p){a=!0,s=p}finally{try{n||null==l.return||l.return()}finally{if(a)throw s}}t.node.deleteSelf(),i.root.adjust({capture:!0})}}else{var d=8;if(37===e.keyCode)i.stage.x(i.stage.x()-d);else if(38===e.keyCode)i.stage.y(i.stage.y()-d);else if(39===e.keyCode)i.stage.x(i.stage.x()+d);else if(40===e.keyCode)i.stage.y(i.stage.y()+d);else if(!i.isDraging)if(8===e.keyCode)i.select&&i.select.canClose()&&i.select.deleteSelf();else{if(" "!==e.key)return;i.select&&"element"===i.select.nodeType()&&(i.select.toggleExpand(),i.select.refresh())}}e.preventDefault(),i.layers.model.batchDraw()}else if(i.select&&!i.isDraging){var u=i.select;if("c"===e.key.toLowerCase())i.board={repeat:!0,cache:F.a.Utils.common.clone(u.toJson())};else if("v"===e.key.toLowerCase()){if(i.board&&"element"===u.nodeType()){var h=i.board.cache;"property"===h.type&&u.canAcceptProperty()?(u.addProperty({key:h.config.key,value:h.config.value}),u.adjust(),i.board.repeat||(i.board=null),i.snapshot()):"property"!==h.type&&u.canAcceptChild()&&("text"===h.type?i.addText(h.config,u):i.loadElement(h,u),u.adjust({bubble:!0}),i.board.repeat||(i.board=null),i.snapshot()),i.refresh()}}else"x"===e.key.toLowerCase()&&(i.board={repeat:!1,cache:F.a.Utils.common.clone(u.toJson())},i.select.deleteSelf())}}),this.stage.on("mousedown",function(e){var t=e.target,o=i.findNodeParent(t);i.select!==o&&(i.select&&i.select.selected(!1),i.select=o,i.select&&(i.selectPos=i.stage.getPointerPosition(),i.select.selected(!0))),i.select&&i.select.canMove()&&0===e.evt.button&&(i.dragMarker.setAttr("@drag",i.select.debrief()),i.dragMarker.position({x:0,y:0}),i.isDraging=!1),i.options.events.select&&i.options.events.select(i.select),i.refresh()}),this.stage.on("mouseup",function(e){i.isDraging||(i.isDraging=!1,i.dragMarker.setAttr("@drag",null))}),this.stage.on("mousemove",function(e){i.mousePos=i.stage.getPointerPosition();var t=i.dragMarker.getAttr("@drag");!t||i.isDraging||i.isReadOnly()||(i.isDraging=!0,i.dragMarker.startDrag())}),this.stage.on("dblclick",function(e){if(i.select&&i.select!==i.root&&(!i.isReadOnly()||i.isDebug())){var t=i.select,o="";"property"===t.nodeType()&&(o=t.key(),t=t.parent()),i.options.events.edit&&i.options.events.edit(t,o)}}),this.stage.on("dragstart",function(e){if(!(e.target instanceof D.a.Stage)){var t=i.dragMarker.getAttr("@drag"),o=t.node.nodeType(),n=t.node.knode().absolutePosition(),a=i.stage.getTransform();n.x-=a.m[4],n.y-=a.m[5],n.x/=a.m[0],n.y/=a.m[0],i.holder.setPrototype(t.node),i.holder.knode().visible(!0),t.node.remove(),t.node.knode().visible(!0),t.node.knode().moveTo(i.layers.drag),t.node.knode().position(n),t.parent&&("property"===o?t.parent.insertProperty(i.holder,t.pos):t.parent.insertChild(i.holder,t.pos)),i.dragMarker.add(t.node.knode()),i.dragMarker.visible(!0),i.refresh()}}),this.stage.on("dragmove",function(e){if(i.mousePos=i.stage.getPointerPosition(),!(e.target instanceof D.a.Stage||i.isReadOnly())){var t=i.dragMarker.getAttr("@drag"),o=t.node.nodeType(),n=t.node.knode().absolutePosition(),a=i.layers.model.getIntersection(n),s=i.findNodeParent(a);if(s&&s!==t.node){var r=s.nodeType(),l={parent:null,pos:-1};if("property"===r||"holder"===r?(l.parent=s.parent(),r=l.parent.nodeType()):l.parent=s,"property"===o)l.parent.canAcceptProperty()&&(l.pos=l.parent.placeholderProperty(n),t.parent===l.parent?t.pos!==l.pos&&(t.parent.swapProperty(t.pos,l.pos),t.pos=l.pos):(t.parent.removeProperty("**holder**"),l.parent.insertProperty(i.holder,l.pos),t.parent=l.parent,t.pos=l.pos,i.root.adjust({capture:!0})));else if(l.parent.canAcceptChild()){if("template"===t.node.tagName()&&"template"===l.parent.tagName())return;i.options.hoverExpand?l.parent.expand(!0):l.parent.isExpanded()||(l.parent=l.parent.parent()),l.pos=l.parent.placeholderChild(n),t.parent===l.parent?t.pos!==l.pos&&(t.parent.swapChild(t.pos,l.pos),t.pos=l.pos):(t.parent.removeChild(i.holder),l.parent.insertChild(i.holder,l.pos),t.parent=l.parent,t.pos=l.pos,i.root.adjust({capture:!0}))}i.refresh()}}}),this.stage.on("dragend",function(e){if(i.isDraging){i.dragMarker.stopDrag();var t=i.dragMarker.getAttr("@drag"),o=t.node.nodeType();t.node.knode().moveTo(i.layers.model),"property"===o?(t.parent.removeProperty("**holder**"),t.parent.insertProperty(t.node,t.pos)):(t.parent.removeChild(i.holder),t.parent.insertChild(t.node,t.pos)),i.dragMarker.setAttr("@drag",null),i.holder.setPrototype(null),i.isDraging=!1,i.refresh(),i.snapshot()}}),this.addRootElement(),this.refresh(),this.snapshot()}return Object(L["a"])(e,[{key:"findNodeParent",value:function(e){if(e instanceof D.a.Stage)return null;var t=e;while(t){if(t instanceof D.a.Group&&t.hasName("node"))break;t=t.getParent()}return t?t.getAttr("@node"):null}},{key:"snapshot",value:function(){if(this.root){this.actions.length>=this.maxAction&&this.actions.splice(0,1),this.actionIndex>=0&&this.actionIndex<this.actions.length-1&&this.actions.splice(this.actionIndex+1,this.actions.length-this.actionIndex-1);var e=this.saveToJson();this.actions.push(e),this.actionIndex=this.actions.length-1}}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&this.root&&this.root.adjust({capture:!0}),this.layers.model.batchDraw(),this.layers.drag.batchDraw()}},{key:"updateOrder",value:function(){this.root.updateOrder(-1)}},{key:"resize",value:function(e,t){e&&this.stage.width(e),t&&this.stage.height(t),this.stage.draw()}},{key:"zoomIn",value:function(){this.options.canZoom&&(this.zoom=F.a.Utils.lodash.clamp(this.zoom*this.zoomFactor,this.minZoom,this.maxZoom),this.stage.scale({x:this.zoom,y:this.zoom}),this.refresh())}},{key:"zoomOut",value:function(){this.options.canZoom&&(this.zoom=F.a.Utils.lodash.clamp(this.zoom/this.zoomFactor,this.minZoom,this.maxZoom),this.stage.scale({x:this.zoom,y:this.zoom}),this.refresh())}},{key:"reset",value:function(){this.zoom=1,this.stage.scale({x:this.zoom,y:this.zoom}),this.stage.position({x:0,y:0}),this.refresh()}},{key:"selectedNode",value:function(){return this.select}},{key:"selectedElement",value:function(){return this.select&&"element"===this.select.nodeType()?this.select:null}},{key:"clear",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.modified=!1,e&&(this.actions=[],this.actionIndex=-1),this.select=null,this.isDraging=!1,this.board=null,this.root&&this.root.clearContent({bubble:!1}),this.refresh()}},{key:"addRootElement",value:function(){this.root?F.a.Logger.debug("Root model is already existed!"):(this.root=new re({x:8,y:8,tagName:"template",canMove:!1,acceptProperty:!1,canClose:!1,expanded:!0}),this.layers.model.add(this.root.root),this.root.adjust())}},{key:"addElement",value:function(e,t){if(t){var i=new re(e);if(e.attributes)for(var o=B()(e.attributes),n=0;n<o.length;n++){var a=Object(O["a"])(o[n],2),s=a[0],r=a[1];i.addProperty({name:s,value:r})}return t.addChild(i),i.adjust({bubble:!0}),i}F.a.Logger.debug("parent model is null!")}},{key:"addText",value:function(e,t){if(t){var i=new de({x:16,y:20,text:e.text});return t.addChild(i),t.expand(!0),i.adjust({bubble:!0}),i}F.a.Logger.debug("Root model is null!")}},{key:"loadFromFile",value:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.clear(i),e&&0!==e.length){var o=null,n=new me.a.Parser({onopentag:function(e,i){o="template"!==e||null!==o?t.addElement({tagName:e,attributes:i},o):t.root},ontext:function(e){var i=e.replace(/(^\s*)|(\s*$)/g,"");i.length>0&&t.addText({text:i},o)},onclosetag:function(e){o.adjust(),o=o.parent()}},{decodeEntities:!0});n.write(e),n.end(),this.root.adjust(),this.root.expandChildren(!1,!0),i&&this.snapshot(),this.refresh()}}},{key:"loadFromJson",value:function(e){if(this.clear(!1),e.children){var t=this.root,i=!0,o=!1,n=void 0;try{for(var a,s=W()(e.children);!(i=(a=s.next()).done);i=!0){var r=a.value;"text"===r.type?this.addText(r.config,t):this.loadElement(r,t)}}catch(l){o=!0,n=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw n}}}this.root.adjust(),this.refresh()}},{key:"loadElement",value:function(e,t){var i={},o=!0,n=!1,a=void 0;try{for(var s,r=W()(e.properties);!(o=(s=r.next()).done);o=!0){var l=s.value;i[l.config.name]=l.config.value}}catch(g){n=!0,a=g}finally{try{o||null==r.return||r.return()}finally{if(n)throw a}}var c=this.addElement(e.config,t),d=!0,u=!1,h=void 0;try{for(var p,f=W()(e.children);!(d=(p=f.next()).done);d=!0){var m=p.value;"text"===m.type?this.addText(m.config,c):this.loadElement(m,c)}}catch(g){u=!0,h=g}finally{try{d||null==f.return||f.return()}finally{if(u)throw h}}return c}},{key:"saveToJson",value:function(){return this.root?F.a.Utils.common.clone(this.root.toJson()):{}}},{key:"saveToFile",value:function(){return this.root?this.root.code():"<template></template>"}},{key:"saveToImage",value:function(){}},{key:"hasUndo",value:function(){return this.actions.length>1&&this.actionIndex>0}},{key:"undo",value:function(){if(this.actions.length<=1)this.actionIndex=this.actions.length-1;else if(this.actionIndex<0&&(this.actionIndex=this.actions.length-1),this.actionIndex>0){this.actionIndex-=1;var e=this.actions[this.actionIndex];this.loadFromJson(e,!1)}}},{key:"hasRedo",value:function(){return this.actionIndex>=0&&this.actionIndex<this.actions.length-1}},{key:"redo",value:function(){if(!(this.actionIndex<0)&&this.actionIndex<this.actions.length-1){this.actionIndex+=1;var e=this.actions[this.actionIndex];this.loadFromJson(e,!1)}}},{key:"isReadOnly",value:function(){return this.options.readonly}},{key:"isDebug",value:function(){return this.options.debug}}]),e}(),ve=ge,ye={init:function(e){return new ve(e)}},be=ye,ke=(i("5e7e"),{category:"vue",title:"Vue",desc:"一个根据Google Material Design指南实现的Vue UI库，支持SSR(服务端渲染)，SPA(单页应用程序)，PWA(渐进式web应用程序)和标准HTML页面",props:{ref:{title:"组件引用",desc:"用于给元素或子组件注册引用信息。引用信息将会注册在父组件的$refs对象上",datatype:"string",canBind:!1},slot:{title:"组件插槽",desc:"用于给组件注册插槽信息。",datatype:"string",canBind:!1},"v-for":{title:"列表渲染",desc:"基于一个数组来渲染一个列表。v-for 指令需要使用 item in items 形式的特殊语法，其中 items 是源数据数组，而 item 则是被迭代的数组元素的别名",datatype:"string",canBind:!1},"v-if":{title:"条件渲染",desc:"用于条件性地渲染一块内容。这块内容只会在指令的表达式返回 truthy 值的时候被渲染。",datatype:"string",canBind:!1},"v-else":{title:"else分支",desc:"表示 v-if 的 else 块",datatype:"string",canBind:!1},"v-else-if":{title:"elseif分支",desc:"表示 v-if 的 elseif 块",datatype:"string",canBind:!1},"v-show":{title:"条件显示",desc:"与v-if类似，不同的是带有 v-show 的元素始终会被渲染并保留在 DOM 中。v-show 只是简单地切换元素的 CSS 属性 display。注意，v-show 不支持 <template> 元素，也不支持 v-else",datatype:"string",canBind:!1},"v-model":{title:"双向数据绑定",desc:"在表单元素上创建双向数据绑定，根据控件类型自动选取正确的方法来更新元素。会忽略所有表单元素的 value、checked、selected 特性的初始值而总是将 Vue 实例的数据作为数据来源",datatype:"string",canBind:!1}},tags:{template:{title:"模版",desc:"用于定义一个Vue模版，不能直接放在 template 中"},element:{title:"自定义元素",desc:"用于定义自定义元素或自组件标签"}}}),xe={category:"html5",title:"Html5",desc:"W3C的核心语言、标准通用标记语言下的一个应用超文本标记语言（HTML）的第五次重大修改",props:{id:{desc:"规定元素的唯一标识符",datatype:"string",default:""},class:{desc:"规定元素的一个或多个类名（引用样式表中的类）",datatype:"string",default:""},hidden:{desc:"规定元素仍未或不再显示",datatype:"boolean",default:"false"},dir:{desc:"规定元素中内容的文本方向",datatype:"enum",values:"ltr|rtl"},draggable:{desc:"规定元素是否可拖动",datatype:"boolean",default:"true"},style:{desc:"规定元素的行内CSS样式",datatype:"string"},tabindex:{desc:"规定元素的 tab 键次序",datatype:"number",default:"1"}},events:{blur:{desc:"元素失去焦点时运行"},change:{desc:"在元素值被改变时运行"},contextmenu:{desc:"当上下文菜单被触发时运行"},focus:{desc:"当元素获得焦点时运行"},keydown:{desc:"在用户按下按键时触发"},keypress:{desc:"在用户敲击按钮时触发"},keyup:{desc:"当用户释放按键时触发"},click:{desc:"元素上发生鼠标点击时触发"},dblclick:{desc:"元素上发生鼠标双击时触发"},mousedown:{desc:"当元素上按下鼠标按钮时触发"},mousemove:{desc:"当鼠标指针移动到元素上时触发"},mouseout:{desc:"当鼠标指针移出元素时触发"},mouseover:{desc:"当鼠标指针移动到元素上时触发"},onmouseup:{desc:"当在元素上释放鼠标按钮时触发"},mousewheel:{desc:"当鼠标滚轮正在被滚动时运行"},scroll:{desc:"当元素滚动条被滚动时运行"}},tags:{a:{title:"超链接",desc:"定义超链接，用于从一张页面链接到另一张页面",props:{href:{desc:"规定链接指向的页面的 URL",datatype:"string"},rel:{desc:"规定当前文档与被链接文档之间的关系",datatype:"string"}}},abbr:{},address:{},area:{},article:{},aside:{},audio:{},b:{},base:{},bdo:{},big:{},blockquote:{},body:{title:"文档主体",desc:"定义文档的主体,包含文档的所有内容（比如文本、超链接、图像、表格和列表等等。）",events:{load:{desc:"页面结束加载之后触发"},resize:{desc:"当浏览器窗口被调整大小时触发"},error:{desc:"在错误发生时运行"}}},br:{},button:{},canvas:{},caption:{},cite:{},col:{},colgroup:{},datalist:{},dd:{},del:{},div:{desc:"定义文档中的分区或节"},dl:{},dt:{},embed:{},fieldset:{},figcaption:{},figure:{},font:{},footer:{},form:{},frame:{},frameset:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},i:{},iframe:{},img:{},input:{},ins:{},keygen:{},label:{},legend:{},li:{},link:{},main:{},map:{},mark:{},menu:{},menuitem:{},meta:{},meter:{},nav:{},noframes:{},noscript:{},object:{},ol:{},optgroup:{},option:{},output:{},p:{desc:""},param:{},pre:{},progress:{},q:{},rp:{},rt:{},s:{},samp:{},script:{},section:{},select:{},small:{},source:{},span:{},strike:{},strong:{},style:{},sub:{},sup:{},table:{},tbody:{},td:{},textarea:{},tfoot:{},th:{},thead:{},time:{},title:{},tr:{},track:{},tt:{},u:{},ul:{},video:{},wbr:{},"#text":{desc:"定义正文文本"}}},Ce={category:"iview",title:"iView",desc:"一套基于 Vue.js 的高质量UI组件库, Github地址 https://github.com/iview/iview",props:{},tags:{cell:{title:"",desc:"用于固定的菜单列表"},button:{title:"按钮",desc:"基础组件，触发业务逻辑时使用",props:{type:{desc:"按钮类型，可选值为 default、primary、dashed、text、info、success、warning、error或者不设置",datatype:"enum",values:"default|primary|dashed|text|info|success|warning|error"},ghost:{desc:"幽灵属性，使按钮背景透明",datatype:"boolean",default:"false"},size:{desc:"按钮大小，可选值为large、small、default或者不设置",datatype:"enum",values:"default|large|small"},shape:{desc:"按钮形状，可选值为circle或者不设置",datatype:"enum",values:"circle"},long:{desc:"开启后，按钮的长度为 100%",datatype:"boolean",default:"false"},"html-type":{desc:"设置button原生的type，可选值为button、submit、reset",datatype:"enum",values:"button|submit|reset"},disabled:{desc:"设置按钮为禁用状态",datatype:"boolean",default:"false"},loading:{desc:"设置按钮为加载中状态",datatype:"boolean",default:"false"},icon:{desc:"设置按钮的图标类型",datatype:"string"},"custom-icon":{desc:"设置按钮的自定义图标",datatype:"string"},to:{desc:"跳转的链接，支持 vue-router 对象",datatype:"string"},replace:{desc:" 路由跳转时，开启 replace 将不会向 history 添加新记录",datatype:"boolean",default:"false"},target:{desc:"相当于 a 链接的 target 属性",datatype:"string",default:"_self"},append:{desc:"同 vue-router append",datatype:"boolean",default:"false"}}},buttongroup:{title:"按钮组合",desc:"将多个Button放入ButtonGroup内，可实现按钮组合的效果",props:{size:{desc:"按钮组合大小，可选值为large、small、default或者不设置",datatype:"enum",values:"default|large|small"},shape:{desc:"按钮组合形状，可选值为circle或者不设置",datatype:"enum",values:"circle"},vertical:{desc:"是否纵向排列按钮组",datatype:"boolean",default:"false"}}},icon:{title:"图标",desc:"iView 的图标使用开源项目 ionicons 3.x 版本",props:{type:{desc:"图标的名称",datatype:"string"}}},row:{},col:{},layout:{},header:{},sider:{title:"侧边栏",desc:"自带默认样式及基本功能，其下可嵌套任何元素，只能放在 Layout 中。slot包含trigger",vmodel:!0,props:{value:{desc:"侧边栏是否收起，可使用 v-model 双向绑定数据",datatype:"boolean",default:"false"},width:{desc:"宽度",datatype:"number",default:"200"},"hide-trigger":{desc:"隐藏默认触发器",datatype:"boolean",default:"false"},collapsible:{desc:"是否可收起，设为false后，默认触发器会隐藏，且响应式布局不会触发",datatype:"boolean",default:"false"},breakpoint:{desc:"触发响应式布局的断点，可选值为xs,sm,md,lg,xl或xxl，若不设此属性则不会触发响应式布局",datatype:"string"}},events:{"on-collapse":{desc:"展开-收起时的回调，返回值true/false"}}},content:{},footer:{},card:{},collapse:{},panel:{},split:{},divider:{},menu:{},menugroup:{},menuitem:{},tab:{},tabpane:{},dropdown:{},dropdownmenu:{},dropdownitem:{},page:{},breadcrumb:{},breadcrumbitem:{},badge:{},anchor:{},anchorlink:{},steps:{},step:{},input:{},radio:{},checkbox:{},checkboxgroup:{},switch:{},table:{title:"表格",desc:"主要用于展示大量结构化数据。支持排序、筛选、分页、自定义操作、导出 csv 等复杂功能。注意：非 template/render 模式下，需使用 i-table。从 3.2.0 版本开始，支持 slot-scope",props:{data:{desc:"显示的结构化数据，其中，字段 cellClassName 用于设置任意单元格的样式名称，因此数据不能使用该字段，详见示例特定样式。",datatype:"array",default:"[]"},stripe:{desc:"是否显示间隔斑马纹",datatype:"boolean",default:"false"},border:{desc:"是否显示纵向边框",datatype:"boolean",default:"false"},"show-header":{desc:"是否显示表头",datatype:"boolean",default:"false"}}},select:{},option:{},autocomplete:{},slider:{},datepicker:{},timepicker:{},cascader:{},transfer:{},inputnumber:{},rate:{},upload:{},colorpicker:{},form:{},alert:{},modal:{},drawer:{},tree:{},tooltip:{},poptip:{},progress:{},avatar:{},tag:{},carousel:{},carouselitem:{},timeline:{},timelineitem:{},time:{},circle:{},affix:{},backtop:{},spin:{},scroll:{}}},we={category:"elementui",title:"Element UI",desc:"一套为开发者、设计师和产品经理准备的基于 Vue 2.0 的桌面端组件库",props:{},tags:{"el-row":{title:"行布局组件",desc:"行布局组件"},"el-col":{desc:"列布局组件"},"el-container":{desc:"外层容器"},"el-header":{desc:"顶栏容器"},"el-aside":{desc:"侧边栏容器"},"el-main":{desc:"主要区域容器"},"el-footer":{desc:"底栏容器"},"el-button":{desc:"按钮"},"el-link":{desc:"文字链接"},"el-radio":{desc:"单选框"},"el-checkbox":{desc:"多选框"},"el-input":{desc:"输入框"},"el-input-number":{desc:"计数器"}}},Ee={category:"vuetify",title:"Vuetify",desc:"一个根据Google Material Design指南实现的Vue UI库，支持SSR(服务端渲染)，SPA(单页应用程序)，PWA(渐进式web应用程序)和标准HTML页面。",props:{},tags:{"v-btn":{title:"按钮",desc:"按钮"},"v-calendar":{title:"日历",desc:"日历"}}},ze=[xe,Ce,we,Ee],Pe={},Me=0;Me<ze.length;Me++){var Se=ze[Me];Pe[Se.category]=Se}function je(){for(var e=[],t=0;t<ze.length;t++){var i=ze[t];e.push({category:i.category,title:i.title||"",desc:i.desc||""})}return e}function Oe(e){if(!e||!e.key)return[];var t=[],i=e.filters&&0!==e.filters.length?e.filters:Q()(Pe);null==e.fuzzy&&(e.fuzzy=!0);var o=!0,n=!1,a=void 0;try{for(var s,r=W()(i);!(o=(s=r.next()).done);o=!0){var l=s.value,c=Pe[l];if(c&&c.tags){c.props||(c.props={});for(var d={category:c.category,title:c.title||"",desc:c.desc||"",elements:[]},u=e.caseSensitive?e.key:e.key.toLowerCase(),h=B()(c.tags),p=0;p<h.length;p++){var f=Object(O["a"])(h[p],2),m=f[0],g=f[1],v=e.caseSensitive?m:m.toLowerCase();if(e.fuzzy&&v.indexOf(u)>=0||v===u){var y=M.a.Utils.common.clone(c.props||{});M.a.Utils.lodash.merge(y,g.props||{}),M.a.Utils.lodash.merge(y,ke.props||{}),g.vmodel||delete y["v-model"];var b=M.a.Utils.common.clone(c.events||{});M.a.Utils.lodash.merge(b,g.events||{}),d.elements.push({name:m,title:g.title||"",desc:g.desc||"",props:y,events:b})}}d.elements.length>0&&t.push(d)}}}catch(k){n=!0,a=k}finally{try{o||null==r.return||r.return()}finally{if(n)throw a}}return t}function _e(){for(var e={tags:[],props:[]},t=B()(ke.tags),i=0;i<t.length;i++){var o=Object(O["a"])(t[i],2),n=o[0],a=o[1];e.tags.push({name:n,title:a.title||n,desc:a.desc||n})}for(var s=B()(ke.props),r=0;r<s.length;r++){var l=Object(O["a"])(s[r],2);n=l[0],a=l[1];e.props.push({name:n,title:a.title||n,desc:a.desc||n,datatype:a.datatype||"string",canBind:a.canBind||!0,default:a.default||""})}return e}var Be={getCategories:je,search:Oe,vueDefs:_e},Te=i("40fb"),We=i("da94"),Ae={props:["source"],directives:{resize:z.a},components:{codemirror:d["codemirror"]},data:function(){var e=function(e,t,i){t&&0!==t.length?i():i(new Error("Please enter name"))};return{split:{ratio:.3,oldRatio:.3,minWidth:300,maxWidth:600},isCollapsed:!0,size:{width:0,height:0,scrollHeight:0},dialogs:{customElement:{visible:!1,parent:null,form:{tagName:""},rules:{tagName:[{validator:e,trigger:"blur"}]}},editElement:{visible:!1,model:null,dataTypes:[{label:"number",value:"number"},{label:"string",value:"string"},{label:"boolean",value:"boolean"},{label:"enum",value:"enum"},{label:"array",value:"array"},{label:"object",value:"object"},{label:"function",value:"function"}],form:{tagName:"",tagCategory:"",def:null,props:[],events:[],current:null,empty:{type:"attr",key:"",value:"",datatype:"string",default:"",desc:"",custom:!0,canBind:!1,bound:!1}}},editText:{visible:!1,model:null,form:{text:""}},customProperty:{visible:!1,title:"",type:"attr",form:{name:""},rules:{name:[{validator:e,trigger:"blur"}]}},about:{visible:!1}},components:{filters:[],libs:[],vuedefs:null,key:"",searchResult:[]},scene:{stage:null,debug:!0},scriptEditor:{document:null,code:"",codecrc:0,options:{tabSize:2,mode:"text/javascript",theme:"monokai",lineNumbers:!0,line:!0,matchBrackets:!0,autofocus:!0},visible:!1}}},computed:{hasUndo:function(){return!!this.scene.stage&&this.scene.stage.hasUndo()},hasRedo:function(){return!!this.scene.stage&&this.scene.stage.hasRedo()},menuitemClasses:function(){return["menu-item",this.isCollapsed?"collapsed-menu":""]},splitMin:function(){return this.split.minWidth+"px"},splitMax:function(){return this.split.maxWidth+"px"}},methods:{onResize:function(){this.size.width=this.$el.clientWidth,this.size.height=this.$el.clientHeight,this.size.scrollHeight=this.size.height-80,this.scene.stage.resize(this.size.width,this.size.height)},zoomIn:function(){this.scene.stage.zoomIn()},zoomOut:function(){this.scene.stage.zoomOut()},reset:function(){this.scene.stage.reset()},undo:function(){this.scene.stage.undo()},redo:function(){this.scene.stage.redo()},loadScript:function(e){0!==e.length?this.scene.stage.loadFromFile(e):this.scene.stage.clear()},openDocument:function(){window.__callVscode__({cmd:"opendoc",info:""},function(e){})},readScript:function(){var e=this;window.__callVscode__({cmd:"loadfile",info:""},function(t){e.scriptEditor.code=t.result.code,e.scriptEditor.codecrc=t.result.crc,e.loadScript(e.scriptEditor.code||"")})},writeScript:function(){var e=this,t=We(this.scene.stage.saveToFile(),{indent_size:2,intent_scripts:"keep"});window.__callVscode__({cmd:"savefile",info:{code:t,crc:this.scriptEditor.codecrc}},function(i){0!==i.code?e.$Modal.confirm({title:"Warning",content:"<p>Vue template have been modified, please confirm whether to force overwrite it? </p>",onOk:function(){window.__callVscode__({cmd:"savefile",info:{code:t,crc:e.scriptEditor.codecrc,forced:!0}},function(t){e.scriptEditor.codecrc=t.result})}}):e.scriptEditor.codecrc=i.result});var i=t;if(this.scriptEditor.document){var o=!0,n=!1,a=void 0;try{for(var s,r=W()(this.scriptEditor.document.childNodes);!(o=(s=r.next()).done);o=!0){var l=s.value;if("template"!==l.tagName)if("#text"===l.nodeName)i+=l.value;else{var c="",d=!0,u=!1,h=void 0;try{for(var p,f=W()(l.attrs);!(d=(p=f.next()).done);d=!0){var m=p.value;c+=" "+m.name+(m.value.length>0?'="'.concat(m.value,'"'):"")}}catch(g){u=!0,h=g}finally{try{d||null==f.return||f.return()}finally{if(u)throw h}}i+="<".concat(l.tagName," ").concat(c,">").concat(Te.serialize(l),"</").concat(l.tagName,">")}}}catch(g){n=!0,a=g}finally{try{o||null==r.return||r.return()}finally{if(n)throw a}}}this.scriptEditor.code=We(i,{indent_size:2,intent_scripts:"keep"})},updateDebugScript:function(){var e=M.a.Utils.common.trimString(this.scriptEditor.code),t="";if(e.length>0){this.scriptEditor.document=Te.parseFragment(e),console.log(this.scriptEditor.document);var i=!0,o=!1,n=void 0;try{for(var a,s=W()(this.scriptEditor.document.childNodes);!(i=(a=s.next()).done);i=!0){var r=a.value;if("template"===r.tagName){var l="",c=!0,d=!1,u=void 0;try{for(var h,p=W()(r.attrs);!(c=(h=p.next()).done);c=!0){var f=h.value;l+=" "+f.name+(f.value.length>0?'="'.concat(f.value,'"'):"")}}catch(m){d=!0,u=m}finally{try{c||null==p.return||p.return()}finally{if(d)throw u}}t="<".concat(r.tagName).concat(l,">").concat(Te.serialize(r.content),"</").concat(r.tagName,">");break}}}catch(m){o=!0,n=m}finally{try{i||null==s.return||s.return()}finally{if(o)throw n}}""===t&&(this.$Message.warning("Error in file(.vue) format: missing <template>"),t="<template></template>")}this.loadScript(t),this.scriptEditor.visible=!1},searchComponents:function(){this.components.searchResult=Be.search({key:this.components.key,filters:this.components.filters})},addComponent:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=i;o||(o=this.scene.stage.selectedElement()),o?("html5"===e&&"#text"===t?this.scene.stage.addText({text:""},o):(this.scene.stage.addElement({tagName:t},o),o.expand(!0)),this.scene.stage.refresh(),this.scene.stage.snapshot()):this.$Message.warning({content:"Please select a element first"})},addCustomComponent:function(e){var t=this.scene.stage.selectedElement();t?"element"===e?(this.$refs["customElement"].resetFields(),this.dialogs.customElement.parent=t,this.dialogs.customElement.visible=!0):"template"===e&&("template"!==t.tagName()?(this.scene.stage.addElement({fill:"#CDB5CD",tagName:"template"},t),t.expand(!0),this.scene.stage.refresh(),this.scene.stage.snapshot()):this.$Message.error({content:"Template can not include template"})):this.$Message.warning({content:"Please select a element first"})},addCustomElement:function(){var e=this;this.$refs["customElement"].validate(function(t){if(t){e.dialogs.customElement.visible=!1;var i=e.dialogs.customElement.form.tagName.toLowerCase();e.addComponent("custom",i,e.dialogs.customElement.parent),e.dialogs.customElement.parent=null}})},closeCustomElement:function(){this.dialogs.customElement.visible=!1,this.dialogs.customElement.parent=null},updateElement:function(){this.dialogs.editElement.visible=!1;var e=this.dialogs.editElement.model;e.config.tagCategory=this.dialogs.editElement.form.tagCategory,e.clearProperty();var t=!0,i=!1,o=void 0;try{for(var n,a=W()(this.dialogs.editElement.form.props);!(t=(n=a.next()).done);t=!0){var s=n.value;s.selected&&e.addProperty({name:(s.bound?s.prefix:"")+s.key,value:s.value})}}catch(p){i=!0,o=p}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}var r=!0,l=!1,c=void 0;try{for(var d,u=W()(this.dialogs.editElement.form.events);!(r=(d=u.next()).done);r=!0){var h=d.value;h.selected&&e.addProperty({name:(h.bound?h.prefix:"")+h.key,value:h.value})}}catch(p){l=!0,c=p}finally{try{r||null==u.return||u.return()}finally{if(l)throw c}}e.adjust({bubble:!0}),e.refresh(),this.dialogs.editElement.model=null,this.dialogs.editElement.form.current=this.dialogs.editElement.form.empty,this.scene.stage.snapshot()},addCustomAttribute:function(){this.dialogs.customProperty.title="Add Custom Property",this.dialogs.customProperty.type="attr",this.dialogs.customProperty.visible=!0},addCustomEvent:function(){this.dialogs.customProperty.title="Add Custom Event",this.dialogs.customProperty.type="event",this.dialogs.customProperty.visible=!0},addCustomProperty:function(e){var t=this;this.$refs["customProperty"].validate(function(e){if(e){var i=t.dialogs.customProperty.form.name.toLowerCase(),o=null;if("attr"===t.dialogs.customProperty.type){var n=!0,a=!1,s=void 0;try{for(var r,l=W()(t.dialogs.editElement.form.props);!(n=(r=l.next()).done);n=!0){var c=r.value;if(c.key===i)return void t.$Message.error("Property ".concat(i," has existed!"))}}catch(g){a=!0,s=g}finally{try{n||null==l.return||l.return()}finally{if(a)throw s}}o={type:"attr",key:i,value:"",desc:"自定义属性",datatype:"string",default:"",selected:!0,custom:!0,canBind:!0,prefix:":",bound:!1},t.dialogs.editElement.form.props.push(o)}else{var d=!0,u=!1,h=void 0;try{for(var p,f=W()(t.dialogs.editElement.form.events);!(d=(p=f.next()).done);d=!0){var m=p.value;if(m.key===i)return void t.$Message.error("Event ".concat(i," has existed!"))}}catch(g){u=!0,h=g}finally{try{d||null==f.return||f.return()}finally{if(u)throw h}}o={type:"event",key:i,value:"",desc:"自定义属性",datatype:"string",default:"",selected:!0,custom:!0,canBind:!0,prefix:"@",bound:!0},t.dialogs.editElement.form.events.push(o)}t.dialogs.customProperty.visible=!1,t.dialogs.editElement.form.current=o}})},closeCustomProperty:function(){this.dialogs.customProperty.visible=!1},clearAttribute:function(e){var t=!0,i=!1,o=void 0;try{for(var n,a=W()(this.dialogs.editElement.form.props);!(t=(n=a.next()).done);t=!0){var s=n.value;if(s.key===e){s.value="",s.selected=!1;break}}}catch(r){i=!0,o=r}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}},clearEvent:function(e){var t=!0,i=!1,o=void 0;try{for(var n,a=W()(this.dialogs.editElement.form.events);!(t=(n=a.next()).done);t=!0){var s=n.value;if(s.key===e){s.value="",s.selected=!1;break}}}catch(r){i=!0,o=r}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}},handleSelectAttribute:function(e){var t=!0,i=!1,o=void 0;try{for(var n,a=W()(this.dialogs.editElement.form.props);!(t=(n=a.next()).done);t=!0){var s=n.value;if(s.key===e){this.dialogs.editElement.form.current=s;break}}}catch(r){i=!0,o=r}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}},handleSelectEvent:function(e){var t=!0,i=!1,o=void 0;try{for(var n,a=W()(this.dialogs.editElement.form.events);!(t=(n=a.next()).done);t=!0){var s=n.value;if(s.key===e){this.dialogs.editElement.form.current=s;break}}}catch(r){i=!0,o=r}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}},handleChangePropertyName:function(e){var t=!1,i=!0,o=!1,n=void 0;try{for(var a,s=W()(this.dialogs.editElement.form.props);!(i=(a=s.next()).done);i=!0){var r=a.value;if(r.key===this.dialogs.editElement.form.current.key){t=!0;break}}}catch(l){o=!0,n=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw n}}t||(this.dialogs.editElement.form.current.custom=!0,this.dialogs.editElement.form.current.desc="自定义属性")},handleChangePropertyValue:function(e){this.dialogs.editElement.form.current.selected=!(""===this.dialogs.editElement.form.current.value)},handleChangePropertyDataType:function(e){this.dialogs.editElement.form.current.default="array"===e?"[]":"boolean"===e?"false":"number"===e?"0":""},closeEditElement:function(){this.dialogs.editElement.visible=!1,this.dialogs.editElement.model=null,this.dialogs.editElement.form.current=this.dialogs.editElement.form.empty},updateText:function(){this.dialogs.editText.visible=!1,this.dialogs.editText.model.changeText(this.dialogs.editText.form.text),this.dialogs.editText.model.refresh(),this.dialogs.editText.model=null,this.scene.stage.snapshot()},closeEditText:function(){this.dialogs.editText.visible=!1,this.dialogs.editText.model=null},selectNavMenu:function(e){var t=this;"search"===e?this.split.ratio<.1?(this.split.ratio=this.split.oldRatio,this.split.minWidth=300,this.split.maxWidth=600):(this.split.oldRatio=this.split.ratio,this.split.ratio=0,this.split.minWidth=0,this.split.maxWidth=1):"document"===e?this.openDocument():"load"===e?this.readScript():"save"===e?this.writeScript():"debug"===e?(this.scriptEditor.visible=!0,this.$nextTick(function(){t.$refs["code"].refresh()})):"about"===e&&(this.dialogs.about.visible=!0)},test:function(){var e='<template><div class="container" v-resize="onContainerResize"><Layout><Sider hide-trigger width="300"><Tree ref="tree" :data="tree.data" class="card-tree"></Tree></Sider><Content><table><template><div></div></template></Table></Content></Layout></div></template><style scoped></style><abc></abc>';this.scriptEditor.code=We(e,{indent_size:2})}},created:function(){this.components.libs=Be.getCategories();var e=!0,t=!1,i=void 0;try{for(var o,n=W()(this.components.libs);!(e=(o=n.next()).done);e=!0){var a=o.value;this.components.filters.push(a.category)}}catch(s){t=!0,i=s}finally{try{e||null==n.return||n.return()}finally{if(t)throw i}}this.components.vuedefs=Be.vueDefs(),this.dialogs.editElement.form.current=this.dialogs.editElement.form.empty},mounted:function(){var e=this;this.size.width=this.$el.clientWidth,this.size.height=this.$el.clientHeight,this.size.scrollHeight=this.size.height-80,this.scene.stage=be.init({container:"scene",width:this.size.width,height:this.size.height,debug:!0,events:{select:function(e){},edit:function(t,i){var o=t.nodeType();if("element"===o){e.dialogs.editElement.form.tagName=t.tagName(),e.dialogs.editElement.form.tagCategory=t.tagCategory()||"";var n=Be.search({key:e.dialogs.editElement.form.tagName,fuzzy:!1,filters:""!==e.dialogs.editElement.form.tagCategory?[e.dialogs.editElement.form.tagCategory]:[]}),a=function(){var o=[],n=[],a={},s=e.dialogs.editElement.form,r={},l={};s.def&&s.def.elements&&s.def.elements.length>=1&&(r=s.def.elements[0].props,l=s.def.elements[0].events);var c=t.toJson(),d=!0,u=!1,h=void 0;try{for(var p,f=W()(c.properties);!(d=(p=f.next()).done);d=!0){var m=p.value;if(r[m.config.key]){a[m.config.key]=!0;var g=r[m.config.key];o.push({type:"attr",key:m.config.key,value:m.config.value||"",desc:g.desc||m.config.key,datatype:g.datatype||"string",default:g.default||"",selected:!0,custom:!1,canBind:null==g.canBind||!!g.canBind,prefix:":",bound:":"===m.config.prefix})}else if(l[m.config.key]){a[m.config.key]=!0;l[m.config.key];n.push({type:"event",key:m.config.key,value:m.config.value||"",datatype:"string",default:"",selected:!0,custom:!1,canBind:!0,prefix:"@",bound:"@"===m.config.prefix})}else o.push({type:"@"===m.config.prefix?"event":"attr",key:m.config.key,value:m.config.value||"",desc:"自定义属性",datatype:"string",default:"",selected:!0,custom:!0,canBind:!0,prefix:":",bound:":"===m.config.prefix})}}catch(z){u=!0,h=z}finally{try{d||null==f.return||f.return()}finally{if(u)throw h}}for(var v=B()(r),y=0;y<v.length;y++){var b=Object(O["a"])(v[y],2),k=b[0],x=b[1];a[k]||o.push({type:"attr",key:k,value:"",desc:x.desc||k,datatype:x.datatype||"string",default:x.default||"",selected:!1,custom:!1,canBind:null==x.canBind||!!x.canBind,prefix:":",bound:!1})}e.dialogs.editElement.form.props=o;for(var C=B()(l),w=0;w<C.length;w++){var E=Object(O["a"])(C[w],2);k=E[0],x=E[1];a[k]||n.push({type:"event",key:k,value:"",desc:x.desc||k,datatype:"string",default:"",selected:!1,custom:!1,canBind:!0,prefix:"@",bound:!0})}e.dialogs.editElement.form.events=n,i&&(e.handleSelectAttribute(i),e.handleSelectEvent(i)),e.dialogs.editElement.model=t,e.dialogs.editElement.visible=!0};n.length>1?(e.dialogs.editElement.form.tagCategory=n[0].category,e.$Modal.confirm({title:"Select Component Library",render:function(t){return t("i-select",{props:{value:e.dialogs.editElement.form.tagCategory},on:{"on-change":function(t){e.dialogs.editElement.form.tagCategory=t}}},n.map(function(e){return t("i-option",{props:{value:e.category,label:e.title}})}))},onOk:function(){var t=!0,i=!1,o=void 0;try{for(var s,r=W()(n);!(t=(s=r.next()).done);t=!0){var l=s.value;if(l.category===e.dialogs.editElement.form.tagCategory){e.dialogs.editElement.form.def=l;break}}}catch(c){i=!0,o=c}finally{try{t||null==r.return||r.return()}finally{if(i)throw o}}a()}})):1===n.length?(e.dialogs.editElement.form.def=n[0],e.dialogs.editElement.form.tagCategory=e.dialogs.editElement.form.def.category,a()):(e.dialogs.editElement.form.tagCategory="custom",e.dialogs.editElement.form.def=null,a())}else"text"===o&&(e.dialogs.editText.model=t,e.dialogs.editText.form.text=t.code(),e.dialogs.editText.visible=!0)}}}),this.test(),this.readScript()},activated:function(){}},Le=Ae,Ie=(i("9a3b"),Object(y["a"])(Le,S,j,!1,null,"b6589784",null)),Fe=Ie.exports,Ne={components:{FEEditor:Fe},data:function(){return{size:{width:0,height:0}}},directives:{resize:z.a},computed:{},methods:{onContainerResize:function(){this.size.width=this.$el.clientWidth,this.size.height=this.$el.clientHeight}},mounted:function(){this.onContainerResize()}},De=Ne,He=(i("da9e"),Object(y["a"])(De,C,w,!1,null,"c6f07626",null)),$e=He.exports;a["default"].use(x["a"]);for(var Re=new x["a"]({routes:[{path:"/",name:"project",component:$e}]}),Ue={common:{appTitle:{zh:"可视化Vue模版编辑器",en:"Troll For Vue"},copyright:{zh:"©2019 Unqiue 版权所有",en:"©️2019 Unique All rights reserved."}}},Ve={zh:{},en:{}},Je=B()(Ue),Ge=0;Ge<Je.length;Ge++)for(var Ze=Object(O["a"])(Je[Ge],2),qe=Ze[0],Xe=Ze[1],Ye=B()(Xe),Ke=0;Ke<Ye.length;Ke++)for(var Qe=Object(O["a"])(Ye[Ke],2),et=Qe[0],tt=Qe[1],it=B()(tt),ot=0;ot<it.length;ot++){var nt=Object(O["a"])(it[ot],2),at=nt[0],st=nt[1],rt=Ve[at];rt||(rt={},Ve[at]=rt);var lt=rt[qe];lt||(lt={},rt[qe]=lt),lt[et]=st}var ct=Ve,dt=!0,ut={};window.__callVscode__=function(e,t){if(dt){if("string"===typeof e&&(e={cmd:e}),t){var i=n()()+""+Math.round(1e5*Math.random());ut[i]=t,e.cbid=i}window.__vscode__||(window.__vscode__=acquireVsCodeApi()),window.__vscode__.postMessage(e)}},window.addEventListener("message",function(e){var t=e.data;switch(t.cmd){case"vscodeCallback":console.log(t.data),ut[t.cbid]&&ut[t.cbid](t.data),delete ut[t.cbid];break;default:break}}),a["default"].config.productionTip=!1,a["default"].use(r["a"]),a["default"].use(p.a),a["default"].use(s["a"]),a["default"].use(c.a),a["default"].use(u.a);var ht=new r["a"]({locale:"en",messages:ct});new a["default"]({router:Re,i18n:ht,render:function(e){return e(k)}}).$mount("#app")},"5e7e":function(e,t){},"9a3b":function(e,t,i){"use strict";var o=i("4c2b"),n=i.n(o);n.a},da9e:function(e,t,i){"use strict";var o=i("02d7"),n=i.n(o);n.a},eea3:function(e,t,i){}});
//# sourceMappingURL=app.251af7ab.js.map